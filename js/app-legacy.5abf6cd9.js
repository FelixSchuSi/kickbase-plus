(function(){var e={43253:function(e,t,a){"use strict";a.r(t)},46700:function(e,t,a){var s={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=46700},74092:function(e,t,a){"use strict";a(66992),a(88674),a(19601),a(17727);var s=a(20144),r=a(40998),n=a(16232),i=a(55550),o=a(69256),l=a(99223),u=a(4324),c=a(43201),f=a(65808),d=a(54525),h=a(45187),p=a(72866),g=a(3059),m=a(99709),y=a(42933),v=a(3305),_=a(29592),b=a(89258),k=a(13687),O=a(97953),w=function(){var e=this,t=e._self._c;return t(r.Z,{staticClass:"app",class:{loading:!e.hasUser},attrs:{id:"inspire"}},[t(y.Z,{staticClass:"app-loading-overlay",attrs:{value:e.getLoading,"z-index":"99999",opacity:".9"}},[t(_.Z,{attrs:{indeterminate:"",color:"yellow darken-2"}}),t(o.Z,e._l(e.getLoadingMessages,(function(a,s){return t("p",{key:s,staticClass:"title",class:{red:a.error}},[e._v(" "+e._s(a.message)+" ")])})),0)],1),t(b.Z,{attrs:{color:"error",timeout:4e3},model:{value:e.showSnack,callback:function(t){e.showSnack=t},expression:"showSnack"}},[t("p",{staticClass:"text-h4"},[e._v(e._s(e.snackMessage))])]),e.hasUser?t("div",[t(m.Z,{staticClass:"blue-grey darken-2",attrs:{dark:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(f.Z,{attrs:{color:"blue-grey darken-2"}},[t(d.Z,{attrs:{to:"/home",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-home")])],1),t(p.km,[t(p.V9,[e._v("Start/Leagues")])],1)],1),t(d.Z,{attrs:{to:"/feed",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-rss-square")])],1),t(p.km,[t(p.V9,[e._v("News Feed")])],1)],1),t(d.Z,{attrs:{to:"/table",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-trophy")])],1),t(p.km,[t(p.V9,[e._v("League Table")])],1)],1),t(d.Z,{attrs:{to:"/transfermarket",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-exchange-alt")])],1),t(p.km,[t(p.V9,[e._v("Transfer market")])],1)],1),t(d.Z,{attrs:{to:"/sell",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-money-bill-alt")])],1),t(p.km,[t(p.V9,[e._v("Offers / Sell")])],1)],1),t(d.Z,{attrs:{to:"/lineup",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-user-friends")])],1),t(p.km,[t(p.V9,[e._v("Lineup")])],1)],1),t(d.Z,{attrs:{to:"/live",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-satellite-dish")])],1),t(p.km,[t(p.V9,[e._v("Live Scores")])],1)],1),t(d.Z,{attrs:{color:"white"}},[t(p.km,[t(l.Z)],1)],1),t(d.Z,{attrs:{to:"/settings",color:"white"}},[t(h.Z,[t(u.Z,[e._v("fa-cog")])],1),t(p.km,[t(p.V9,[e._v("Settings")])],1)],1),t(d.Z,{attrs:{color:"white"}},[t(p.km,[t(l.Z)],1)],1),t(d.Z,{attrs:{color:"white"},on:{click:e.doLogout}},[t(h.Z,[t(u.Z,[e._v("fa-sign-out-alt")])],1),t(p.km,[t(p.V9,[e._v("Logout")])],1)],1),t(d.Z,{attrs:{color:"white"}},[t(p.km,[t(l.Z)],1)],1),t(d.Z,{attrs:{color:"white"}},[t(p.km,[t(p.V9,[e._v("build: "+e._s(e.build))])],1)],1)],1)],1),t(n.Z,{attrs:{app:"",color:"black",dark:""}},[t(i.Z,{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),t(O.qW,{staticClass:"d-none d-sm-none d-md-flex",staticStyle:{"align-items":"baseline"}},[e._v(" KICKBASE"),t("span",{staticClass:"yellow--text"},[e._v("+")]),e.leagueName?t("small",[e._v(" "+e._s(e.leagueName)+" ")]):e._e()]),t(k.Z),t("small",{staticStyle:{"font-size":"11px"},domProps:{innerHTML:e._s(e.getPlayersDetails)}}),t(k.Z),t("div",{staticStyle:{"font-size":"11px"}},[e._v(" daily bonus:"),t("br"),!0===e.getFetchedGift?t("span",[t(u.Z,{attrs:{color:"green darken-2"}},[e._v("fa-heart")]),e._v("  "),t("span",[0!==e.getGiftBonus?t("span",[e._v(e._s(e.getGiftBonus)+" / ")]):e._e(),e._v(e._s(e.getGiftLevel))])],1):!1===e.getFetchedGift?t("span",[t(u.Z,{attrs:{color:"red"}},[e._v("fa-sad-tear")])],1):t(v.Z,{attrs:{indeterminate:"",size:"16"}})],1)],1),t(g.Z,[t(o.Z,{attrs:{fluid:"","fill-height":""}},[t(c.Z,{attrs:{"align-center":"","justify-center":""}},[t("router-view")],1)],1)],1)],1):e.hasUser?e._e():t("login-dialog")],1)},P=[],C=a(95082),S=(a(41539),a(54747),a(57327),a(68309),a(20629)),x=a(30381),L=a.n(x),Z=a(92077),D=a.n(Z),M=a(89584),T=a(48534),E=(a(35666),a(83112),a(38862),a(2707),a(9669)),B=a.n(E);function j(e){return e.authData}function A(e){return e.errorMessage}function I(e){return e.bids}function N(e){return e.players}function V(e){return e.pointsScored}function F(e){return e.liveData}function R(e){return e.users}function G(e){return e.teams}function U(e){return e.bearerToken}function W(e){return e.self}function z(e){return e.selfData}function $(e){return e.league}function q(e){var t=null;if(e.leagues&&e.leagues.length&&e.league){var a=e.leagues.filter((function(t){return t.id===e.league}));1===a.length&&(t=a[0])}return t}function H(e){return e.ranking}function K(e){return e.self&&e.users[e.self]?e.users[e.self]:null}function Y(e){return e.self&&e.users[e.self]&&e.users[e.self].players?e.users[e.self].players:[]}function J(e){return e.loading}function X(e){return e.loadingMessages}function Q(e){return e.fetchedGift}function ee(e){return e.giftBonus}function te(e){return e.giftLevel}function ae(e){return e.leagues}function se(e){return e.selfPlayersStatsFetched}function re(e){return e.playersStatsFetched}function ne(e){return e.offerOpenPlayerNotOnMarketPanel}function ie(e){return e.offerOpenPlayerWithoutAnyOfferPanel}function oe(e){return e.offerThreshold}function le(e){return e.offerOrder}function ue(e){return e.offerShowTooLowOffersOnly}function ce(e){var t;return null!==(t=e.defaults.offerOrders[e.offerOrder.init])&&void 0!==t?t:"n/a"}function fe(e){return e.defaults}var de={getAuthData:j,getErrorMessage:A,getBids:I,getPlayers:N,getPointsScored:V,getUsers:R,getTeams:G,getBearerToken:U,getSelf:W,getSelfData:z,getLeague:$,getLeagues:ae,getSelectedLeague:q,getSelfPlayerDetails:K,getPlayersOfMe:Y,getRanking:H,getLoading:J,getLoadingMessages:X,getFetchedGift:Q,getGiftBonus:ee,getLiveData:F,getGiftLevel:te,getSelfPlayersStatsFetched:se,getPlayersStatsFetched:re,getOfferOpenPlayerNotOnMarketPanel:ne,getOfferOpenPlayerWithoutAnyOfferPanel:ie,getOfferThreshold:oe,getOfferShowTooLowOffersOnly:ue,getOfferOrder:le,getOfferOrderLabel:ce,getDefaults:fe},he=(a(47941),{LOCALSTORAGE:{GIFT_DATA:"giftData",OFFER_THRESHOLD:"offerThreshold",OFFER_ORDER:"offerOrder",OFFER_SHOW_TOO_LOW_OFFERS_ONLY:"offerShowTooLowOffersOnly",OFFER_PANEL_PLAYER_NOT_ON_MARKET:"offerPanelOpenPlayerNotOnMarket",OFFER_PANEL_PLAYER_WITHOUT_ANY_OFFER:"offerPanelOpenPlayerWithoutAnyOffer"}});function pe(e,t){e.players=t}function ge(e,t){e.users=t}function me(e,t){e.liveData=t}function ye(e,t){if(t.id){var a=Object.assign({},e.players);a[t.id]=t,e.players=a}}function ve(e,t){var a;if(null!==t&&void 0!==t&&t.playerId&&(null===t||void 0===t||null===(a=t.seasons)||void 0===a?void 0:a.length)>0){var s=Object.assign({},e.pointsScored);s[t.playerId]=t.seasons,e.pointsScored=s}}function _e(e,t){if(t.playerId){var a=Object.assign({},e.playersStatsFetched);a[t.playerId]=t.value,e.playersStatsFetched=a}}function be(e,t){if(t.user&&t.players){var a=Object.assign({},e.users),s=Object.assign({},a[t.user]);s.players=t.players,a[t.user]=s,e.users=a}}function ke(e,t){if(t.user&&t.transfers){for(var a=Object.assign({},e.users),s=Object.assign({},a[t.user]),r=s.transfers||{},n=Object.assign(r,t.transfers),i=Object.keys(n).sort((function(e,t){return e>t?-1:1})),o=[],l=0;l<20;l++)i[l]&&o.push(n[i[l]]);s.lastTransfers=o,s.transfers=n,a[t.user]=s,e.users=a}}function Oe(e,t){if(t.id){var a=Object.assign({},e.users);a[t.id]=t,e.users=a}}function we(e,t){e.bids=t}function Pe(e,t){e.errorMessage=t}function Ce(e,t){e.authData=t}function Se(e,t){e.loading=t}function xe(e,t){e.fetchedGift=t}function Le(e,t){e.giftLevel=t}function Ze(e,t){e.giftBonus=t}function De(e,t){e.self=t}function Me(e,t){e.selfData=t}function Te(e,t){e.leagues=t}function Ee(e,t){e.league=t}function Be(e){e.loading=!1,e.loadingMessages=[]}function je(e,t){e.loadingMessages=t}function Ae(e,t){e.ranking=t}function Ie(e,t){e.loadingMessages.push({message:t})}function Ne(e,t){e.loadingMessages.push({message:t,error:!0})}function Ve(e,t){e.selfPlayersStatsFetched=t}function Fe(e,t){localStorage.setItem(he.LOCALSTORAGE.OFFER_THRESHOLD,t),e.offerThreshold=t}function Re(e,t){localStorage.setItem(he.LOCALSTORAGE.OFFER_SHOW_TOO_LOW_OFFERS_ONLY,t),e.offerShowTooLowOffersOnly=t}function Ge(e,t){localStorage.setItem(he.LOCALSTORAGE.OFFER_PANEL_PLAYER_NOT_ON_MARKET,t),e.offerOpenPlayerNotOnMarketPanel=t}function Ue(e,t){localStorage.setItem(he.LOCALSTORAGE.OFFER_PANEL_PLAYER_WITHOUT_ANY_OFFER,t),e.offerOpenPlayerWithoutAnyOfferPanel=t}function We(e,t){!0===t.isTemporary?e.offerOrder.temporary=t.order:(e.offerOrder.init=t.order,localStorage.setItem(he.LOCALSTORAGE.OFFER_ORDER,t.order))}var ze={addPlayer:ye,addPointsScored:ve,addUsersPlayer:be,addTransfersToUser:ke,addUser:Oe,setSelf:De,setSelfData:Me,setLeague:Ee,setPlayers:pe,setUsers:ge,setBids:we,setErrorMessage:Pe,setLoadingMessages:je,setAuthData:Ce,setLoading:Se,setRanking:Ae,resetLoading:Be,addLoadingMessage:Ie,addErrorLoadingMessage:Ne,setFetchedGift:xe,setGiftLevel:Le,setGiftBonus:Ze,setLiveData:me,setLeagues:Te,setSelfPlayersStatsFetched:Ve,addPlayersStatsFetched:_e,setOfferThreshold:Fe,setOfferShowTooLowOffersOnly:Re,setOfferOpenPlayerNotOnMarketPanel:Ge,setOfferOpenPlayerWithoutAnyOfferPanel:Ue,setOfferOrder:We},$e={};s.ZP.use(S.ZP);var qe=new S.ZP.Store({state:{fetchedGift:null,giftBonus:0,giftLevel:0,errorMessage:null,authData:{},teams:[],bids:[],players:{},pointsScored:{},users:{},liveData:{},loading:!1,loadingMessages:[],leagues:[],league:null,self:null,selfData:null,selfPlayersStatsFetched:null,playersStatsFetched:{},bearerToken:"",ranking:null,defaults:{offerThreshold:.6,offerOrder:"newest",offerOpenPlayerNotOnMarketPanel:!0,offerOpenPlayerWithoutAnyOfferPanel:!1,offerShowTooLowOffersOnly:!1,offerOrders:{oldest:"oldest first",newest:"newest first"}},offerThreshold:null,offerShowTooLowOffersOnly:!1,offerOpenPlayerNotOnMarketPanel:!1,offerOpenPlayerWithoutAnyOfferPanel:!1,offerOrder:{init:null,temporary:null}},getters:de,mutations:ze,actions:$e}),He=qe;a(61874),a(9653);function Ke(e){return"/kickbase-plus/assets/teams/".concat(e,".png")}var Ye=function(e,t){var a=null;return e&&e.length&&t&&e.forEach((function(e){e.t1i!==t.teamId&&e.t2i!==t.teamId||(e.t1i===t.teamId?a={abbr:e.t2y,name:e.t2n,id:e.t2i,img:Ke(e.t2i)}:e.t2i===t.teamId&&(a={abbr:e.t1y,name:e.t1n,id:e.t1i,img:Ke(e.t1i)}))})),a},Je=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Xe=function(e,t){return e.price-t},Qe=function(e,t){var a=Xe(t,e.marketValue);return Number.parseFloat(a/e.marketValue*100).toPrecision(2)},et=function(e,t,a){return Qe(e,t)>=a},tt=function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return t+"."+a+"."+s},at={getToken:function(){return"Bearer "+localStorage.getItem("token")},checkForCredentials:function(){return!(!localStorage.getItem("user")||!localStorage.getItem("password")||""===localStorage.getItem("user")||""===localStorage.getItem("password"))},checkBonusState:function(){B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/currentgift",method:"GET",data:{}}).then((function(e){if(200===e.status)if(e.data){if(0!==e.data.amount)He.commit("setGiftLevel",e.data.level),He.commit("setGiftBonus",e.data.amount),localStorage.setItem(he.LOCALSTORAGE.GIFT_DATA,JSON.stringify({level:e.data.level,amount:e.data.amount}));else{var t=localStorage.getItem(he.LOCALSTORAGE.GIFT_DATA),a=!1;t&&(t=JSON.parse(t),t&&t.level&&(He.commit("setGiftLevel",t.level),He.commit("setGiftBonus",t.amount),a=!0)),!1===a&&He.commit("setGiftLevel","collected")}e.data.isAvailable?B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/collectgift",method:"POST",data:{}}).then((function(e){200===e.status?e.data&&0===e.data.err?He.commit("setFetchedGift",!0):He.commit("setFetchedGift",!1):He.commit("setErrorMessage","could not find token data")})):He.commit("setFetchedGift",!0)}else He.commit("setErrorMessage","could not find token data")})).catch((function(){var e=localStorage.getItem(he.LOCALSTORAGE.GIFT_DATA);console.log(localStorage.getItem(he.LOCALSTORAGE.GIFT_DATA),he.LOCALSTORAGE.GIFT_DATA,localStorage);var t=!1;e&&(console.log(e),e=JSON.parse(e),e&&e.level&&(He.commit("setGiftLevel",e.level),He.commit("setGiftBonus",e.amount),t=!0)),!1===t&&He.commit("setGiftLevel","collected")}))},login:function(){B()({url:"https://api.kickbase.com/user/login",method:"POST",data:{email:localStorage.getItem("user"),password:localStorage.getItem("password"),ext:!0}}).then((function(e){200===e.status&&(e.data.token&&e.data.tokenExp?(localStorage.setItem("token",e.data.token),localStorage.setItem("tokenExp",e.data.tokenExp),He.commit("setLoading",!0),window.location.reload()):He.commit("setErrorMessage","could not find token data"))})).catch((function(){He.commit("setErrorMessage","login issues")}))},loadRanking:function(e){B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/stats",method:"GET"}).then((function(t){200===t.status&&t.data&&t.data.users&&t.data.matchDays&&(He.commit("setRanking",t.data),"function"===typeof e&&e())})).catch((function(){He.commit("addErrorLoadingMessage","could not fetch ranking"),He.commit("setErrorMessage","could not fetch ranking")}))},loadPersonalData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(He.commit("setLoading",!0),He.commit("addLoadingMessage","loading personal data. please wait")),B()({url:"https://api.kickbase.com/user/settings",method:"GET"}).then((function(t){200===t.status&&t.data&&t.data.user&&t.data.user.id&&(He.commit("setSelfData",t.data.user),He.commit("setSelf",1*t.data.user.id),e())})).catch((function(){t&&(He.commit("addErrorLoadingMessage","could not fetch user data"),He.commit("setErrorMessage","could not fetch user data"))}))},loadLeagues:function(e){He.commit("setLoading",!0),He.commit("addLoadingMessage","loading leagues. please wait"),B()({url:"https://api.kickbase.com/leagues?ext=true",method:"GET"}).then((function(t){if(200===t.status&&(He.commit("addLoadingMessage","fetched player's league successfully"),t.data&&t.data.leagues&&t.data.leagues.length)){He.commit("setLeagues",t.data.leagues);var a=null;localStorage.getItem("league")&&t.data.leagues.forEach((function(e){e.id===localStorage.getItem("league")&&(He.commit("setLeague",e.id),a=e)})),null===a&&(a=t.data.leagues[0],localStorage.setItem("league",a.id),He.commit("setLeague",a.id)),He.commit("addLoadingMessage","set league: "+a.name),e(),window.setTimeout((function(){He.commit("setLoading",!1)}),1e3)}})).catch((function(){He.commit("addErrorLoadingMessage","could not fetch player's leagues"),He.commit("setErrorMessage","could not fetch player's leagues")}))},loadUsersPlayerOffers:function(e){He.commit("addLoadingMessage","loading market offers"),B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/market",method:"GET"}).then((function(t){200===t.status&&(He.commit("addLoadingMessage","fetched offers successfully"),"function"===typeof e&&e(t.data))})).catch((function(){He.commit("addErrorLoadingMessage","could not fetch player's offers"),He.commit("setErrorMessage","could not fetch player's offers")}))},loadBids:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/market",method:"GET"}).then(function(){var s=(0,T.Z)(regeneratorRuntime.mark((function s(r){var n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:200===r.status&&(n=r.data.players,n.sort((function(e,t){return e.expiry>t.expiry?1:-1})),i=[],n.forEach((function(e){var t=!0;1*e.userId===He.getters.getSelf&&(t=!1),t&&i.push(e)})),e&&i.forEach(function(){var e=(0,T.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.userId){e.next=5;break}return e.next=3,a.loadPlayersStats(t.id);case 3:return e.next=5,a.loadPlayerPoints(t.id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),He.commit("setBids",i),"function"===typeof t&&t());case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()).catch((function(){He.commit("setErrorMessage","could not fetch transfer market")})).finally((function(){}));case 1:case"end":return s.stop()}}),s)})))()},loadPlayersStats:function(e,t,a){var s=tt(),r=He.getters.getPlayersStatsFetched,n=He.getters.getPlayers;n&&n.length&&n[e]&&n[e].marketValues&&n[e].marketValues.length&&r[e]===s&&"function"===typeof t&&t(),r[e]===s&&!0!==a||B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/players/"+e+"/stats",method:"GET"}).then((function(a){200===a.status&&("function"===typeof t&&t(),He.commit("addPlayer",a.data),He.commit("addPlayersStatsFetched",{playerId:e,value:s}))})).catch((function(){He.commit("setErrorMessage","could not fetch details of player with id: "+e)})).finally((function(){}))},loadUsers:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/stats",method:"GET"}).then((function(a){200===a.status&&a.data.users.forEach((function(a){1*a.id===He.getters.getSelf?e.loadUsersStats(a,t):at.loadUsersPlayer(a.id,!1)}))})).catch((function(){He.commit("setErrorMessage","could not fetch league stats")}))},saveLineup:function(e,t,a){B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/lineup",method:"POST",data:e}).then((function(e){200===e.status&&0===e.data.err?t(e.data):He.commit("setErrorMessage","could not save lineup")})).catch((function(){a(),He.commit("setErrorMessage","could not save lineup")}))},loadLineup:function(e){B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/lineupex",method:"GET"}).then((function(t){200===t.status&&e(t.data)})).catch((function(){He.commit("setErrorMessage","could not fetch lineup")}))},loadMatches:function(e,t){var a="";e&&(a="?matchDay="+e),B()({url:"https://api.kickbase.com/competition/matches"+a,method:"GET"}).then((function(e){200===e.status&&t(e.data)})).catch((function(){He.commit("setErrorMessage","could not fetch matchday")}))},loadFeed:function(e){B()({url:"https://api.kickbase.com/v2/leagues/"+He.getters.getLeague+"/feed",method:"GET",params:{start:0,filter:"3,5,13,15,16,17"}}).then((function(t){200===t.status&&e(t.data)})).catch((function(){He.commit("setErrorMessage","could not fetch feed")})).finally((function(){}))},loadUsersStats:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e;B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/users/"+e.id+"/profile",method:"GET"}).then((function(e){if(e.data){var s=Object.assign(a,e.data);He.commit("addUser",s),at.loadUsersPlayer(s.id,t)}})).catch((function(){He.commit("setErrorMessage","could not fetch users")}))},loadUsersPlayer:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0,s=e;B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/users/"+s+"/players",method:"GET"}).then(function(){var r=(0,T.Z)(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:200===n.status&&(He.commit("addUsersPlayer",{user:s,players:n.data.players}),n.data.players&&n.data.players.length&&1*e===He.getters.getSelf&&!0===t&&n.data.players.forEach(function(){var e=(0,T.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.loadPlayersStats(t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"function"===typeof a&&a());case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},loadGlobalLiveData:function(e){B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/live",method:"GET"}).then((function(t){200===t.status&&(t.data&&He.commit("setLiveData",t.data),"function"===typeof e&&e())}))},sendBid:function(e,t,a,s,r){var n=a,i=function(){return B().post("https://api.kickbase.com/leagues/"+He.getters.getLeague+"/market/"+e+"/offers",{price:t})},o=[i()];!0===s&&(o.push(i()),o.push(i())),B().all(o).then(B().spread((function(){var e=arguments.length<=0?void 0:arguments[0];200===e.status&&"function"===typeof n&&n(e.data)}))).catch((function(e){console.warn(e),e.response&&e.response.data&&(5060===e.response.data.err&&He.commit("setErrorMessage","offer too low"),5050===e.response.data.err&&He.commit("setErrorMessage","you reached your financial limit (max. 33% debt of your team's market value)"),5030===e.response.data.err&&He.commit("setErrorMessage","You have reached the limit for players per team (max. "+He.getters.getSelectedLeague.pl+" players)"),5070===e.response.data.err&&He.commit("setErrorMessage","You have reached the limit for players of a Bundesliga team (max. "+He.getters.getSelectedLeague.mpst+" players)")),"function"===typeof r&&r()}))},revokeBid:function(e,t,a){var s=a;B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/market/"+e+"/offers/"+t,method:"DELETE"}).then((function(e){200===e.status&&"function"===typeof s&&s(e.data)}))},checkFailed:function(e){return function(t){var a=t.some((function(e){return e.error}));if(a)throw t;return e(t)}},putOnMarket:function(e,t,a){He.commit("addLoadingMessage",'trying to put player "'+e.lastName+'" on market');var s=t,r=e.marketValue+"",n=function(){return B().post("https://api.kickbase.com/leagues/"+He.getters.getLeague+"/market",{playerId:e.id,price:r})},i=[n()];B().all(i).then(B().spread((function(){var e=arguments.length<=0?void 0:arguments[0];He.commit("addLoadingMessage","put player on market successfully"),200===e.status&&"function"===typeof s&&s(e)}))).catch((function(t){console.warn(t),He.commit("addErrorLoadingMessage","error occured during putting player on market. lets try it again"),at.putOnMarket(e,s,a)}))},removePlayerFromMarket:function(e,t){return(0,T.Z)(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:He.commit("addLoadingMessage",'removing player "'+e.lastName+'" from market'),s=t,B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/market/"+e.id,method:"DELETE"}).then((function(t){200===t.status&&"function"===typeof s&&(He.commit("addLoadingMessage",'removed player "'+e.lastName+'" from market'),s(t.data))})).catch((function(){He.commit("setErrorMessage","could not remove player from market")}));case 3:case"end":return a.stop()}}),a)})))()},setPlayerOnMarketAgain:function(e,t){var a=arguments;return(0,T.Z)(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=!(a.length>2&&void 0!==a[2])||a[2],He.commit("setLoading",!0),s.next=4,at.removePlayerFromMarket(e);case 4:return s.next=6,Je(500);case 6:return s.next=8,at.putOnMarket(e);case 8:if(!r){s.next=13;break}return s.next=11,Je(500);case 11:return s.next=13,at.loadUsersPlayerOffers((function(e){"function"===typeof t&&t(e)}));case 13:case"end":return s.stop()}}),s)})))()},acceptBids:function(e,t){B()({url:"https://api.kickbase.com/leagues/"+He.getters.getLeague+"/market/"+e.playerId+"/offers/"+e.offerId+"/accept",method:"POST"}).then((function(e){200===e.status&&"function"===typeof t&&t()}))},loadPlayerPoints:function(e){B()({url:"https://api.kickbase.com/players/".concat(e,"/points"),method:"GET"}).then((function(t){t.data.playerId=e,200===t.status&&He.commit("addPointsScored",{seasons:(0,M.Z)(t.data.s),playerId:e})})).catch((function(){He.commit("setErrorMessage","could not fetch details of player with id: "+e)}))}};B().defaults.headers.common.Authorization=at.getToken();var st=at,rt=a(64562),nt=a(79582),it=a(54886),ot=a(34061),lt=a(31267),ut=a(17808),ct=function(){var e=this,t=e._self._c;return t("div",[t(ot.Z,{attrs:{width:"500",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(nt.Z,[t(it.EB,{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v(" Login ")]),t(it.ZB,[t(o.Z,{attrs:{"grid-list-md":""}},[t(c.Z,{attrs:{wrap:""}},[t(lt.Z,{attrs:{xs12:""}},[t(ut.Z,{attrs:{label:"username",required:""},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1),t(lt.Z,{attrs:{xs12:""}},[t(ut.Z,{attrs:{label:"password*",type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1),t(it.h7,[t(k.Z),t(rt.Z,{attrs:{color:"info darken-1",large:"",loading:e.loading},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)},ft=[],dt={name:"Login-Dialog",data:function(){return{dialog:!0,user:null,password:null,loading:!1,errorMessage:null}},mounted:function(){st.checkForCredentials(),this.user=localStorage.getItem("user")},computed:(0,C.Z)({},(0,S.Se)(["getAuthStatus"])),methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["setErrorMessage"])),{},{login:function(){localStorage.setItem("user",this.user),localStorage.setItem("password",this.password),st.checkForCredentials()?st.login():this.setErrorMessage("issue with login: please check credentials")}})},ht=dt,pt=a(1001),gt=(0,pt.Z)(ht,ct,ft,!1,null,null,null),mt=gt.exports;D().locale("deff");var yt={name:"App",components:{LoginDialog:mt},props:{source:String},data:function(){return{drawer:null,snackMessage:null,showSnack:!1}},created:function(){var e=this;this.$store.watch((function(e){return e.errorMessage}),(function(){var t=e.$store.state.errorMessage;""!==t&&(e.showSnack=!0,e.snackMessage=t,e.setErrorMessage(""))}))},mounted:function(){localStorage.getItem("password")&&localStorage.removeItem("password"),this.hasUser&&st.loadPersonalData((function(){st.loadLeagues((function(){st.checkBonusState(),st.loadUsers()}))})),this.initDarkMode()},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getAuthData","getErrorMessage","getLoading","getFetchedGift","getGiftBonus","getBids","getGiftLevel","getLoadingMessages","getSelfPlayerDetails","getSelf","getLeagues","getLeague","getDefaults"])),{},{hasUser:function(){var e=L()();if(this.getAuthData.user||localStorage.getItem("token")&&localStorage.getItem("tokenExp")){var t=L()(localStorage.getItem("tokenExp"));if(t>e)return!0}return!1},getPlayersDetails:function(){var e="";return this.getSelfPlayerDetails&&this.getSelfPlayerDetails.budget&&(e+="Budget: "+D()(this.getSelfPlayerDetails.budget).format("0,0"),e+="&nbsp; / Team: "+D()(this.getSelfPlayerDetails.teamValue).format("0,0")),this.getBids&&this.getSelfPlayerDetails&&(e+="<br>Bids: "+D()(this.getPlayerBidsSum).format("0,0")),this.getSelfPlayerDetails&&this.getSelfPlayerDetails.budget&&(e+='&nbsp;<span class="d-sm-inline-block d-md-none">/</span> Transfers: '+(this.getSelfPlayerDetails.bought+this.getSelfPlayerDetails.sold),this.getSelfPlayerDetails.players&&this.getSelfPlayerDetails.players.length&&(e+=' / <span class="d-none d-sm-none d-md-inline-block">Players</span><span class="d-inline-block d-md-none">Ply</span>: '+this.getSelfPlayerDetails.players.length)),e},getPlayerBidsSum:function(){var e=this,t=0;return this.getBids&&this.getBids.length&&this.getBids.forEach((function(a){a.offers&&a.offers.length&&a.offers.forEach((function(a){1*a.userId===e.getSelf&&(t+=1*a.price)}))})),t},selectedLeague:function(){var e=this,t=null;if(this.getLeagues&&this.getLeagues.length&&this.getLeague){var a=this.getLeagues.filter((function(t){return t.id===e.getLeague}));1===a.length&&(t=a[0])}return t},leagueName:function(){return this.selectedLeague?this.selectedLeague.name:null},build:function(){return"2022090601"}}),methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["setErrorMessage","setLoading","setOfferThreshold"])),{},{initDarkMode:function(){var e=this,t=window.matchMedia("(prefers-color-scheme: dark)");t.addEventListener("change",(function(){e.$vuetify.theme.dark=!e.$vuetify.theme.dark})),t.matches&&setTimeout((function(){return e.$vuetify.theme.dark=!0}),0)},doLogout:function(){this.setLoading(!0),localStorage.removeItem("token"),localStorage.removeItem("tokenExp"),localStorage.removeItem("league"),window.location.reload()}})},vt=yt,_t=(0,pt.Z)(vt,w,P,!1,null,null,null),bt=_t.exports,kt=a(31705);s.ZP.use(kt.Z);var Ot=new kt.Z({icons:{iconfont:"fa"}}),wt=a(99339),Pt=a(88051),Ct=a.n(Pt),St=a(78345),xt=a(43423),Lt=a(77912),Zt=a(74611),Dt=a(92648),Mt=function(){var e=this,t=e._self._c;return t(o.Z,[t("h2",[e._v("selected League:")]),e.getSelectedLeague?t("div",[t("table",{staticClass:"tbl"},[t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("Name:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.name))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("created by:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.creator))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("users:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.au))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("max players per user team:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.pl))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("max players of a league team:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.mpst))])])])]):e._e(),t("br"),t(l.Z),t("br"),t("h2",[e._v("your Leagues:")]),t(f.Z,[t(Lt.Z,{attrs:{color:"primary"},model:{value:e.activeLeague,callback:function(t){e.activeLeague=t},expression:"activeLeague"}},e._l(e.getLeagues,(function(a,s){return t(d.Z,{key:s,on:{click:function(t){return e.setLeague(a)}}},[a.ci?t(Zt.Z,{staticClass:"mr-5"},[t(xt.Z,[t("img",{attrs:{src:a.ci}})])],1):e._e(),t(p.km,[t(p.V9,[t("span",{domProps:{textContent:e._s(a.name)}})])],1)],1)})),1)],1),t("br"),t(l.Z),t("br"),t(Dt.Z,{attrs:{name:"bearer",label:"Bearer Token",value:e.getToken,disabled:""}})],1)},Tt=[],Et={name:"home-view",data:function(){return{}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getBearerToken","getLeagues","getLeague","getSelectedLeague"])),{},{getToken:function(){return st.getToken()},activeLeague:function(){var e=this,t=null;return this.getLeagues&&this.getLeagues.length&&this.getLeague&&this.getLeagues.forEach((function(a,s){a.id===e.getLeague&&(t=s)})),t}}),methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["setLoading","setLoadingMessages"])),{},{setLeague:function(e){this.setLoadingMessages([]),this.setLoading(!0),localStorage.setItem("league",e.id),window.location.reload()}})},Bt=Et,jt=(0,pt.Z)(Bt,Mt,Tt,!1,null,null,null),At=jt.exports,It=a(37359),Nt=a(5375),Vt=a(29884),Ft=(a(74916),a(64765),function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container full-width-container--with-options-bar"},[t("options-bar",{attrs:{"info-button-title":"your defaults"},scopedSlots:e._u([{key:"content",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,color:"transparent"},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}}),t(ut.Z,{attrs:{label:"Search for player at current market","prepend-icon":"fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(Nt.Z,{attrs:{items:e.positions,label:"Position filter",dense:"",outlined:"","hide-details":"true"},model:{value:e.selectedFilteredPosition,callback:function(t){e.selectedFilteredPosition=t},expression:"selectedFilteredPosition"}}),t(Vt.Z,{attrs:{label:"Show all player (of all league members)"},model:{value:e.showOtherUsersPlayer,callback:function(t){e.showOtherUsersPlayer=t},expression:"showOtherUsersPlayer"}})]},proxy:!0},{key:"other-buttons",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,large:!0},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}})]},proxy:!0}])}),!1===e.loading?t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t(It.Z,{staticClass:"mb-5 text-body-2",attrs:{color:e.alertColor,dark:"",text:""}},[t("strong",{staticClass:"text-h6 font-weight-black"},[e._v(e._s(e.playersLeft))]),e._v(" free spots in your team ")]),t(ut.Z,{staticClass:"hidden-md-and-up",attrs:{label:"Search for player at current market","prepend-icon":"fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._l(e.getFilteredPlayers,(function(e){return t("bid-row",{key:e.id,attrs:{player:e}})}))],2):t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t("loading-spinner")],1)],1)}),Rt=[],Gt=(a(24603),a(28450),a(88386),a(39714),a(4723),a(80255)),Ut=a(22348),Wt=a(20400),zt=a(65005),$t=a(9449),qt=function(){var e=this,t=e._self._c;return t("player-card",{staticClass:"bid-row",class:{"own-bid":e.hasOwnBid,"no-bid":e.hasNoBid,only:e.hasOnlySelfBid},attrs:{player:e.player,"show-purchase-statistic":!1},scopedSlots:e._u([{key:"pre-head",fn:function(){return[t(It.Z,{attrs:{text:"",color:e.isDarkTheme?"deep-purple lighten-3":"deep-purple darken-4",icon:"fa-clock"}},[e._v(" "+e._s(e.expiryDate)+" ")]),e.hasNoBid?t(It.Z,{attrs:{text:"",color:e.isDarkTheme?"lime darken-3":"orange darken-3",icon:"fa-exclamation-circle"}},[e._v(" NO BID ")]):e._e(),e.hasOnlySelfBid?t(It.Z,{staticClass:"text--white",attrs:{text:"",dark:"",color:"pink accent-4",icon:"fa-bomb"}},[e._v(" YOUR BID ONLY ")]):e.hasOwnBid?t(It.Z,{staticClass:"text--white",attrs:{text:"",dark:"",color:e.isDarkTheme?"purple darken-1":"purple accent-4",icon:"fa-clipboard-check"}},[e._v(" YOU BID ")]):e._e(),e.foreignOffers.length?e._l(e.foreignOffers,(function(a){return t(It.Z,{key:a.id,attrs:{text:"",color:e.isDarkTheme?"green lighten-4":"green darken-4",icon:"fa-money-bill-wave"}},[t("span",{staticClass:"text-caption"},[e._v(e._s(a.userName))]),t("small",[e._v(" "+e._s(e.getDate(a.date)))])])})):e._e(),e.player.userId?t(It.Z,{attrs:{text:"",color:e.isDarkTheme?"brown lighten-3":"brown darken-3",icon:"fa-user"}},[e._v(" Player: "+e._s(e.player.username)+" ")]):e._e()]},proxy:!0},e.player.offers&&e.player.offers.length&&!1===e.hasOnlySelfBid?{key:"extra-expansion-panel",fn:function(){return[t(Gt.Z,[t(Wt.Z,{staticClass:"elevation-0"},[t(u.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"green darken-1"}},[e._v("fa-money-bill-wave")]),t("strong",[e._v(e._s(e.player.offers.length))]),e._v(" user bid on this player ")],1),t(Ut.Z,[t($t.Z,{staticClass:"mb-5 bid-table"},[[t("tbody",[t("tr",[t("th",[e._v(" Name ")]),t("th",[e._v(" Details ")])]),e._l(e.sortedOffers,(function(a,s){return t("tr",{key:s,class:{foo:a.isSelf}},[t("td",[a.userName?t("span",[e._v(e._s(a.userName))]):t("span",[e._v("KICKBASE")]),e._v(": ")]),t("td",[a.userId!=e.getSelf?t("span",[e._v(" "+e._s(e.getDate(a.date))+" "),t("small",[e._v(" / has "+e._s(e.getUsersPlayers(a.userId))+" players")])]):t("span",[e._v(" "+e._s(e._f("numeral")(a.price,"0,0 $"))+" ")])])])}))],2)]],2)],1)],1)]},proxy:!0}:null],null,!0)},[t(zt.Z,{staticClass:"playerBidForm mt-5 mb-4",on:{submit:function(t){return t.preventDefault(),e.dummySubmit.apply(null,arguments)}}},[t("div",{staticClass:"d-sm-flex d-block"},[t("div",{staticClass:"bid-input-container mr-5"},[t("vue-numeric-input",{attrs:{initialNumber:e.bidValue,"has-bid":null!==e.playerBid,min:1,align:"center",mousewheel:!1,placeholder:e.inputPlaceholder},on:{input:e.setInputValue,submit:e.setInputValue}}),t("saved-alert",{attrs:{value:e.showSavedAlert,message:"saved bid for player"}})],1),t("div",{staticClass:"bid-input-container"},[t("div",{staticClass:"text-caption"},[e._v(" "+e._s(e.getComputedBid)+" "),"no bid"!==e.getComputedBid?t("span",[t("span",{staticClass:"hidden-sm-and-up"},[e._v(", ")]),t("br",{staticClass:"hidden-xs-only"}),e._v(" you bid "),t("strong",[e._v(e._s(e.getComputedDifference.number))]),e._v(" Euros"+e._s(e.getComputedDifferenceWording)+" ("),t("span",{class:{"text--green":e.getComputedDifference.number<=0,"text--red":e.getComputedDifference.number>0}},[e._v(e._s(e.getComputedDifference.percentage)+" %")]),e._v(") ")]):e._e()])])])]),e.hasOwnBid?t(rt.Z,{staticClass:"kp-button kp-button__decline mb-5",attrs:{block:"","x-large":""},on:{click:e.revokeBid}},[e._v(" revoke own bid ("+e._s(e.getComputedBid)+") ")]):e._e(),t("div",{staticClass:"mb-5"},[t("h3",{staticClass:"text-subtitle-1"},[e._v("Bid-Buttons:")]),t("div",{staticClass:"bids-button-row"},e._l(e.bidButtons,(function(a){return t(rt.Z,{key:a,attrs:{dense:"",outlined:""},on:{click:function(t){return e.sendPercentageBid(a)}}},[t("span",{domProps:{innerHTML:e._s(e.getButtonLabel(a))}})])})),1)])],1)},Ht=[],Kt=(a(47042),a(92222),a(91296)),Yt=a.n(Kt),Jt=a(50629),Xt=a(31214),Qt=a(65495),ea=a(11713),ta=(a(33948),function(){var e=this,t=e._self._c;return t(nt.Z,{staticClass:"elevation-6 pa-4 mt-5 player-card"},[e.hasPreHeadSlot?t("div",{staticClass:"player-card__pre-head"},[t("div",{staticClass:"player-card__pre-head__content"},[e._t("pre-head")],2)]):e._e(),t("div",{staticClass:"player-card-content-wrapper"},[!1===e.hideMeta?t("div",{staticClass:"player-card-meta",style:{width:e.playerMetaWidth}},[t("div",{staticClass:"player-card-meta__content"},[t("div",{staticClass:"player-card__image"},[t(Qt.Z,{staticClass:"player-card__team-image",attrs:{src:e.teamImage,"aspect-ratio":"1"}}),t(Qt.Z,{staticClass:"hidden-xs-only player-card__player-image",attrs:{src:e.getPlayerImage,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(ea.Z,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[t(u.Z,{attrs:{size:"128"}},[e._v(" fa-user-alt ")])],1)]},proxy:!0}],null,!1,753505098)})],1),!1===e.hidePlayerStatus?t("div",{staticClass:"player-card-meta__item"},[t("status-pill",{attrs:{player:e.player}})],1):e._e(),!1===e.hidePlayerMarketValue?t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-fourth"},[t(It.Z,{staticClass:"mb-0",attrs:{type:"info",dense:"",text:"",icon:"fa-euro-sign"}},[e._v(" "+e._s(e.getComputedPrice)+" (MV) ")])],1):e._e(),t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-third"},[t(It.Z,{staticClass:"mt-0",attrs:{color:e.getGrowthColor,dense:"",text:"",icon:e.getGrowthIcon}},[e._v(e._s(e._f("numeral")(e.getDiffMV,"0,0 $"))+" (growth) ")])],1),!1===e.hidePlayerPoints?t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-fifth"},[t(It.Z,{attrs:{color:e.genericInfoFieldColor,dense:"",text:"",icon:"fa-poll"}},[e._v(" ⌀ "+e._s(e.player.averagePoints)+" / "+e._s(e.player.totalPoints)+" ")])],1):e._e(),!1===e.hidePlayerPosition?t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-fifth"},[t(It.Z,{attrs:{color:e.genericInfoFieldColor,dense:"",text:"",icon:"fa-futbol"}},[e._v(e._s(e.getPosition))])],1):e._e()])]):e._e(),t("div",{ref:"playerCardContent",staticClass:"player-card-slot"},[t("div",{staticClass:"player-card-head"},[t("h2",{staticClass:"text-h5 text-sm-h4 mb-3 font-weight-bold"},[e.player.knownName?t("span",[e._v(e._s(e.player.knownName))]):t("span",[e._v(e._s(e.player.firstName)+" "+e._s(e.player.lastName))]),t("span",{staticClass:"hidden-xs-only caption"},[e._v("(#"+e._s(e.player.id)+")")])])]),e._t("default"),t("div",{class:e.statsCssClass},[t(Xt.Z,{staticClass:"elevation-1 player-card-accordion",attrs:{accordion:"",focusable:""}},[e._t("extra-expansion-panel"),e.showPurchaseStatistic?t(Gt.Z,[t(Wt.Z,{staticClass:"elevation-0"},[t(u.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"teal darken-2"}},[e._v("fa-search-dollar")]),e._v(" purchase statistics ")],1),t(Ut.Z,[t(Jt.Z,{staticClass:"elevation-1",attrs:{headers:e.getPlayerStatistics.headers,items:e.getPlayerStatistics.values,"hide-default-footer":!0}})],1)],1):e._e(),t(Gt.Z,[t(Wt.Z,{staticClass:"elevation-0"},[t(u.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"blue lighten-2"}},[e._v("fa-chart-line")]),e._v(" market value trend ")],1),t(Ut.Z,[t("player-market-value-trend",{attrs:{player:e.player}})],1)],1),t(Gt.Z,[t(Wt.Z,{staticClass:"elevation-0"},[t(u.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"green lighten-2"}},[e._v("fa-futbol")]),e._v(" points scored ")],1),t(Ut.Z,[t("player-points",{attrs:{player:e.player}})],1)],1)],2)],1),t(rt.Z,{staticClass:"hidden-sm-and-up",on:{click:e.toggleStatistics}},[e.statsCssClass===e.initStatsCssClass?t("span",[e._v("show")]):t("span",[e._v("hide")]),e._v("  statistics ")])],2)])])}),aa=[],sa=function(){var e=this,t=e._self._c;return t("span",{staticClass:"status-pill"},[16===e.player.status?t(It.Z,{staticClass:"is-stricken",attrs:{dense:"",text:"",icon:"fa-times-circle",color:e.orange}},[e._v(" second yellow card ")]):8===e.player.status?t(It.Z,{attrs:{dense:"",text:"",icon:"fa-times-circle",color:"red"}},[e._v(" red card ")]):64===e.player.status?t(It.Z,{attrs:{dense:"",text:"",icon:"fa-ghost",color:"this.$vuetify.theme.dark ? #ccc' : '#2A3B4D'"}},[e._v(" not in team ")]):2===e.player.status?t(It.Z,{staticClass:"is-stricken",attrs:{dense:"",color:e.orange,icon:"fa-user-injured"}},[e._v(" stricken ")]):1===e.player.status?t(It.Z,{attrs:{dense:"",text:"",icon:"fa-plus-square",color:"red"}},[e._v(" injured ")]):0===e.player.status?t(It.Z,{attrs:{dense:"",text:"",icon:"fa-thumbs-up",type:"success"}},[e._v(" fit ")]):4===e.player.status?t(It.Z,{attrs:{dense:"",text:"",icon:"fa-dumbbell",color:"orange"}},[e._v(" recover training ")]):128===e.player.status?t(It.Z,{attrs:{dense:"",text:"",icon:"fa-suitcase",color:"this.$vuetify.theme.dark ? #ccc' : '#2A3B4D'"}},[e._v(" left the league ")]):256===e.player.status?t(It.Z,{attrs:{dense:"",text:"",icon:"fa-suitcase",color:"this.$vuetify.theme.dark ? #ccc' : '#2A3B4D'"}},[e._v(" away ")]):t(It.Z,{attrs:{dense:"",text:"",icon:"fa-question",type:"info"}},[e._v(" unsupported status ")])],1)},ra=[],na={name:"StatusPill",props:{player:{type:Object,required:!0}},computed:{orange:function(){return this.$vuetify.theme.dark?"orange darken-4":"orange lighten-1"}}},ia=na,oa=(0,pt.Z)(ia,sa,ra,!1,null,null,null),la=oa.exports,ua=function(){var e=this,t=e._self._c;return t("div",[e.getLastDayChanges?t(Jt.Z,{staticClass:"elevation-1",attrs:{headers:e.getLastDayChanges.headers,items:e.getLastDayChanges.values,"hide-default-footer":!0}}):t("div",{staticClass:"stats-loading"}),t(rt.Z,{attrs:{block:""},on:{click:e.fetchData}},[e._v("fetch data again")])],1)},ca=[],fa={name:"PlayerMarketValueTrend",props:{player:{type:Object,required:!0}},data:function(){return{}},mounted:function(){},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getPlayers"])),{},{getLastChanges:function(){if(this.getPlayers[this.player.id]){for(var e=this.getPlayers[this.player.id].marketValues,t={labels:[],datasets:[{label:"market value",data:[]}]},a=e.length;a>=e.length-21;a--)if(e[a]){var s=L()(e[a].d);t.labels.push(s.format("DD MM")),t.datasets[0].data.push(e[a].m)}return t.labels=t.labels.reverse(),t.datasets[0].data=t.datasets[0].data.reverse(),t}return null},getLastDayChanges:function(){var e=[{text:"day",value:"day",sortable:!1},{text:"change",value:"change",sortable:!1}],t=this.getLastChanges;if(t&&t.datasets&&t.datasets.length){var a=t.datasets[0].data.slice(0).reverse(),s=a[6]?D()(a[0]-a[6]).format("0,0"):null,r=a[13]?D()(a[0]-a[13]).format("0,0"):null;return 0===s||0===r?null:{headers:e,values:[{day:"yesterday",change:D()(a[0]-a[1]).format("0,0")},{day:"7 days change",change:s},{day:"14 days change",change:r}]}}return{headers:e}}}),methods:{fetchData:function(){st.loadPlayersStats(this.player.id,null,!0)}}},da=fa,ha=(0,pt.Z)(da,ua,ca,!1,null,"8c56abc8",null),pa=ha.exports,ga=function(){var e=this,t=e._self._c;return t("div",{ref:"scrollElement",staticClass:"player-points-root"},[e._l(e.points,(function(a){return t("div",{key:a.t,staticClass:"player-points-season"},[e._l(a.m,(function(s){return t("player-points-match-day",{key:a.t+s.d,staticClass:"player-points-season-match",attrs:{barStyles:e.barStyles[a.t+s.d],matchDay:s}})})),t("div",{staticClass:"season-summary"},[t("div",{staticClass:"season-summary-details"},[t("div",{staticClass:"season-summary-details-value"},[e._v(e._s(a.t))]),t("div",{staticClass:"season-summary-details-key"},[e._v("season summary")]),t("div",{staticClass:"season-summary-details-value"},[e._v(e._s(a.p))]),t("div",{staticClass:"season-summary-details-key"},[e._v("points")]),t("div",{staticClass:"season-summary-details-value"},[e._v(" "+e._s(a.mp>0?Math.round(a.p/a.mp):0)+" ")]),t("div",{staticClass:"season-summary-details-key"},[e._v("∅ points")]),t("div",{staticClass:"season-summary-details-value"},[e._v(e._s(a.mp))]),t("div",{staticClass:"season-summary-details-key"},[e._v("appearances")]),t("div",{staticClass:"season-summary-details-value"},[e._v(e._s(a.ms))]),t("div",{staticClass:"season-summary-details-key"},[e._v("starting 11")])])])],2)})),e._l(e.upcomingMatches,(function(e){return t("player-points-match-day",{key:e.md,staticClass:"player-points-season-match",attrs:{barStyles:{background:"var(--player-points-background-color)"},matchDay:e}})}))],2)},ma=[],ya=a(66347),va=(a(21249),a(86535),a(99244),function(){var e,t,a,s,r=this,n=r._self._c;return n("div",{staticClass:"player-points-match-root"},[n("div",{staticClass:"player-points-match-desc"},[n("small",{staticClass:"player-points-match-value"},[r._v(r._s(null!==(e=r.matchDay.md)&&void 0!==e?e:r.matchDay.d)+".")]),n("small",{staticClass:"player-points-match-key"},[r._v("match day")])]),n("div",{staticClass:"player-points-match-bar",style:r.barStyles},[r._l(r.matchDay.a,(function(e){return n("svg",{key:e,staticClass:"player-points-match-goal-assist",attrs:{width:"14",height:"14",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M10.025 11.9412H0.190917C0.00612408 11.9412 -0.0700793 12.1774 0.0785173 12.286L8.03415 18.066C8.13893 18.1422 8.28753 18.0946 8.32753 17.9708L10.2059 12.1907C10.246 12.0669 10.1545 11.9412 10.025 11.9412Z",fill:"white"}}),n("path",{attrs:{d:"M33.0632 11.9411H24.6218C24.4199 11.9411 24.2255 12.0039 24.0617 12.1221L16.9957 17.2563C16.8471 17.3648 16.6452 17.2182 16.7024 17.0429L19.4076 8.71957C19.4705 8.52906 19.4705 8.32141 19.4076 8.1309L16.809 0.131451C16.7519 -0.0438169 16.5042 -0.0438169 16.4471 0.131451L6.28727 31.3939C6.23011 31.5692 6.43205 31.7158 6.58065 31.6073L16.0661 24.7147C16.3995 24.4727 16.8529 24.4727 17.1863 24.7147L26.6717 31.6073C26.8203 31.7158 27.0222 31.5692 26.9651 31.3939L23.3416 20.2434C23.2139 19.851 23.353 19.4204 23.6883 19.1785L33.1737 12.2859C33.3242 12.1773 33.248 11.9411 33.0632 11.9411Z",fill:"white"}})])})),r._l(r.matchDay.g,(function(e){return n("svg",{key:e,staticClass:"player-points-match-goal-assist",attrs:{height:"12",width:"12",viewBox:"0 0 1000 1000"}},[n("g",[n("path",{attrs:{fill:"white",d:"M343,456.3l157-113.8l157,113.8L597.3,640H403.2L343,456.3z M500,10c66.4,0,129.8,12.9,190.3,38.8S803,109.5,846.7,153.3c43.8,43.7,78.6,95.9,104.5,156.4c25.9,60.5,38.8,124,38.8,190.3c0,66.4-12.9,129.8-38.8,190.3c-25.9,60.5-60.7,112.7-104.5,156.4s-95.9,78.6-156.4,104.5C629.8,977.1,566.4,990,500,990c-66.4,0-129.8-12.9-190.3-38.8c-60.5-25.9-112.7-60.7-156.4-104.5S74.7,750.8,48.8,690.3C22.9,629.8,10,566.4,10,500c0-66.4,12.9-129.8,38.8-190.3S109.5,197,153.3,153.3c43.8-43.8,95.9-78.6,156.4-104.5C370.2,22.9,433.6,10,500,10z M838.5,748.3c54.3-74,81.5-156.8,81.5-248.3v-1.6L864.2,547L733,424.5l34.5-176.6l73.3,6.6C786,179.3,715.1,127.9,628,100.2l29,67.8l-157,87l-157-87l29-67.8c-87.1,27.7-158,79.1-212.7,154.2l73.8-6.6L267,424.5L135.8,547L80,498.4v1.6c0,91.5,27.2,174.3,81.5,248.3l16.4-72.2L356.2,698l76,163l-63.4,37.7C411.4,912.9,455.2,920,500,920c44.8,0,88.6-7.1,131.3-21.3l-63.4-37.7l76-163l178.3-21.9L838.5,748.3z"}})])])}))],2),n("small",{staticClass:"player-points-match-points player-points-match-value"},[r._v(r._s(null!==(t=r.matchDay.p)&&void 0!==t?t:0))]),n("div",{staticClass:"player-points-match-team-logos"},[n("img",{staticClass:"home",attrs:{src:r.getTeamLogo(r.matchDay.t1i)}}),n("img",{staticClass:"away",attrs:{src:r.getTeamLogo(r.matchDay.t2i)}})]),n("svg",{staticClass:"player-points-match-score"},[n("rect",{attrs:{x:"0",y:"0",width:"50",height:"16"}}),n("text",{attrs:{fill:"black","font-size":"8pt","text-anchor":"middle",x:"18",y:"12",dy:"1"}},[r._v(r._s(-1===r.matchDay.t1s?"-":null!==(a=r.matchDay.t1s)&&void 0!==a?a:0)+" : "+r._s(-1===r.matchDay.t2s?"-":null!==(s=r.matchDay.t2s)&&void 0!==s?s:0))])]),n("small",{staticClass:"player-points-match-minutes player-points-match-value"},[r._v(" "+r._s(r.matchDay.sp?Math.round(r.matchDay.sp/60):0)+"' ")])])}),_a=[],ba={name:"PlayerPointsMatchDay",props:{matchDay:{type:Object,required:!0},barStyles:{type:Object,required:!0}},data:function(){return{}},mounted:function(){},computed:{},methods:{}},ka=ba,Oa=(0,pt.Z)(ka,va,_a,!1,null,"4f5778b4",null),wa=Oa.exports,Pa={name:"PlayerPoints",components:{PlayerPointsMatchDay:wa},props:{player:{type:Object,required:!0}},data:function(){return{}},mounted:function(){var e=this.$refs.scrollElement;setTimeout((function(){e.scrollLeft=e.scrollWidth-820}))},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getPointsScored","getPlayers"])),{},{upcomingMatches:function(){var e;return null===(e=this.getPlayers[this.player.id])||void 0===e?void 0:e.nm},points:function(){return this.getPointsScored[this.player.id]},barStyles:function(){if(this.getPointsScored[this.player.id]){var e,t=this.getPointsScored[this.player.id],a=Math.max.apply(Math,(0,M.Z)(t.flatMap((function(e){return e.m})).map((function(e){return e.p})))),s={},r=(0,ya.Z)(t);try{for(r.s();!(e=r.n()).done;){var n,i=e.value,o=(0,ya.Z)(i.m);try{for(o.s();!(n=o.n()).done;){var l=n.value,u=l.p>=100?"#25c28b":"#ea5f42",c="".concat(Math.round(l.p/a*100),"%");s[i.t+l.d]={background:"linear-gradient(to top, ".concat(u,", ").concat(u,", ").concat(c,", var(--player-points-background-color), ").concat(c,", var(--player-points-background-color))")}}}catch(f){o.e(f)}finally{o.f()}}}catch(f){r.e(f)}finally{r.f()}return s}return null}}),methods:{fetchData:function(){st.loadPlayerPoints(this.player.id)},getTeamLogo:Ke}},Ca=Pa,Sa=(0,pt.Z)(Ca,ga,ma,!1,null,"08b12ea0",null),xa=Sa.exports,La={name:"PlayerCard",components:{StatusPill:la,PlayerMarketValueTrend:pa,PlayerPoints:xa},props:{player:{required:!0,type:Object},hideMeta:{type:Boolean,required:!1,default:!1},hidePlayerStatus:{type:Boolean,required:!1,default:!1},hidePlayerPosition:{type:Boolean,required:!1,default:!1},hidePlayerPoints:{type:Boolean,required:!1,default:!1},hidePlayerMarketValue:{type:Boolean,required:!1,default:!1},showPurchaseStatistic:{type:Boolean,required:!1,default:!0}},data:function(){return{statsCssClass:"hidden-xs-only",initStatsCssClass:null,playerMetaWidth:null}},mounted:function(){this.initStatsCssClass=this.statsCssClass,this.determinePlayerMetaWidth()},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getPlayers"])),{},{hasPreHeadSlot:function(){return!!this.$slots["pre-head"]},getPlayerImage:function(){return"https://kkstr.s3.amazonaws.com/pool/playersbig/".concat(this.player.id,".png")},getComputedPrice:function(){return D()(this.player.price).format("0,0")},getGrowthColor:function(){var e="#2a5b2a",t="#682828";return this.$vuetify.theme.dark&&(e="#afd3af",t="#e6b6b6"),this.getDiffMV>0?e:t},getGrowthIcon:function(){return this.getDiffMV>0?"fa-caret-up":"fa-caret-down"},getPlayerStatistics:function(){return{headers:[{text:"Stat",value:"stat",sortable:!1},{text:"",value:"value",sortable:!1}],values:[{stat:"Profit",value:D()(this.getDiffPurchasePrice).format("0,0")},{stat:"Growth to today",value:D()(this.getDiffMV).format("0,0")},{stat:"Current market value",value:D()(this.player.marketValue).format("0,0")},{stat:"Last market value",value:D()(this.getYesterdaysMV).format("0,0")},{stat:"Purchase price",value:D()(this.getPlayersPurchaseSum).format("0,0")},{stat:"Market value change since purchase",value:D()(this.getPlayersMarketValueChange).format("0,0")}]}},getPosition:function(){var e="";switch(this.player.position){case 1:e="goalkeeper";break;case 2:e="defender";break;case 3:e="midfielder";break;case 4:e="forward";break}return e},teamImage:function(){return Ke(this.player.teamId)},getYesterdaysMV:function(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].marketValues.length>3?this.getPlayers[this.player.id].marketValues[this.getPlayers[this.player.id].marketValues.length-2].m:null},getDiffMV:function(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].marketValues&&this.getPlayers[this.player.id].marketValues[this.getPlayers[this.player.id].marketValues.length-1]&&this.getPlayers[this.player.id].marketValues[this.getPlayers[this.player.id].marketValues.length-2]?this.getPlayers[this.player.id].marketValues[this.getPlayers[this.player.id].marketValues.length-1].m-this.getPlayers[this.player.id].marketValues[this.getPlayers[this.player.id].marketValues.length-2].m:null},getDiffPurchasePrice:function(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer&&this.player.offers?this.player.offers[0].price-this.getPlayers[this.player.id].leaguePlayer.buyPrice:null},getPlayersPurchaseMVDiff:function(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer?this.player.marketValue-this.getPlayers[this.player.id].leaguePlayer.buyPrice:null},getPlayersMarketValueChange:function(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer?this.getPlayers[this.player.id].leaguePlayer.marketValueChange:null},getPlayersPurchaseSum:function(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer?this.getPlayers[this.player.id].leaguePlayer.buyPrice:null},genericInfoFieldColor:function(){return this.$vuetify.theme.dark?"#ccc":"#2A3B4D"}}),methods:{toggleStatistics:function(){this.statsCssClass===this.initStatsCssClass?this.statsCssClass=null:this.statsCssClass=this.initStatsCssClass},determinePlayerMetaWidth:function(){this.$refs.playerCardContent&&(this.playerMetaWidth=this.$refs.playerCardContent.offsetWidth)}}},Za=La,Da=(0,pt.Z)(Za,ta,aa,!1,null,null,null),Ma=Da.exports,Ta=function(){var e=this,t=e._self._c;return t("div",{class:["vue-numeric-input",e.size,"updown"===e.controlsType?"updown":""]},[t("input",e._g(e._b({ref:"input",class:e.inputClasses,style:e.inputStyle,attrs:{name:e.name,type:"number",step:"any",placeholder:e.placeholder,max:e.max,min:e.min,autofocus:e.autofocus,disabled:e.disabled,readonly:e.readonly||!e.isInput},domProps:{value:e.computedValue},on:{submit:function(t){return t.preventDefault(),e.triggerEnterEvent.apply(null,arguments)},input:e.onInput,change:e.onChange,blur:e.onBlur,focus:e.onFocus,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.triggerEnterEvent.apply(null,arguments)}}},"input",e.$attrs,!1),e.mousewheel?{wheel:e.throttle(e.mouseWheelHandler,6e3)}:{wheel:function(e){e.preventDefault()}})),e.controls?t("button",{staticClass:"input-btn btn-decrement",attrs:{type:"button",disabled:e.disabled||e.minDisable},on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.start(e.decrement)},touchstart:function(t){return t.preventDefault(),e.start(e.decrement)},touchend:function(t){return t.preventDefault(),e.stop.apply(null,arguments)}}},[t("span",{staticClass:"btn-icon"})]):e._e(),e.controls?t("button",{staticClass:"input-btn btn-increment",attrs:{type:"button",disabled:e.disabled||e.maxDisable},on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.start(e.increment)},touchstart:function(t){return t.preventDefault(),e.start(e.increment)},touchend:function(t){return t.preventDefault(),e.stop.apply(null,arguments)}}},[t("span",{staticClass:"btn-icon"})]):e._e()])},Ea=[],Ba=(a(55994),a(44363),a(26699),a(33161),100),ja={name:"vue-numeric-input",props:{name:String,value:[String,Number],placeholder:String,min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},align:{type:String,default:"left"},width:{type:String},size:{type:String,default:"normal",validator:function(e){return["small","normal","large"].includes(e)}},precision:{type:Number,validator:function(e){return e>=0&&Number.isInteger(e)}},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},controlsType:{type:String,default:"plusminus"},mousewheel:{type:Boolean,default:!1},isInput:{type:Boolean,default:!0},className:{type:String,default:null},initialNumber:{type:Number,default:null,required:!1},hasBid:{type:Boolean,default:!1,required:!1},enterEvent:{type:Function,default:null,required:!1}},data:function(){return{newValue:0,minDisable:!1,maxDisable:!1,interval:null,startTime:null,handler:Function,initialized:!1,temporaryStep:1,debouncedCallback:null,valueBeforeChange:0,hasFocus:!1,stepsCounterIncrease:0,stepsCounterDecrease:0}},watch:{value:{immediate:!0,handler:function(e){this.precision&&(e=this.toPrecision(e,this.precision)),this.max&&e>=this.max?this.newValue=this.max:this.min&&e<=this.min?this.newValue=this.min:this.newValue=e,this.newValue!==e&&this.$emit("input",this.newValue)}},hasBid:function(e){!0===e?this.newValue=this.initialNumber:!1===e&&(this.newValue=null)}},mounted:function(){this.temporaryStep=this.step,this.debouncedCallback=Yt()((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"function"===typeof t[0]&&t[0]()}),1e3)},methods:{triggerEnterEvent:function(){this.$emit("submit",{value:this.computedValue,focus:!1,triggeredByEnterKey:!0})},toNumber:function(e){var t=parseFloat(e);return isNaN(t)?e:t},toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision:function(e){if(void 0===e)return 0;var t=e.toString(),a=t.indexOf("."),s=0;return-1!==a&&(s=t.length-a-1),s},increment:function(){if(!this.readonly&&!this.disabled){this.stepsCounterIncrease>71?this.temporaryStep=1e5:this.stepsCounterIncrease>55?this.temporaryStep=1e4:this.stepsCounterIncrease>41?this.temporaryStep=1e3:this.stepsCounterIncrease>25?this.temporaryStep=100:this.stepsCounterIncrease>11&&(this.temporaryStep=10);var e=0;this.computedValue?e=this.computedValue:this.initialNumber&&(e=this.initialNumber);var t=Math.pow(10,this.numValuePrecision),a=Math.round(t*e+t*this.temporaryStep)/t;a<=this.max?(this.minDisable=!1,this.computedValue=a):this.maxDisable=!0,this.stepsCounterIncrease++}},decrement:function(){if(!this.readonly&&!this.disabled){this.stepsCounterDecrease>71?this.temporaryStep=1e5:this.stepsCounterDecrease>55?this.temporaryStep=1e4:this.stepsCounterDecrease>41?this.temporaryStep=1e3:this.stepsCounterDecrease>25?this.temporaryStep=100:this.stepsCounterDecrease>11&&(this.temporaryStep=10);var e=0;this.computedValue?e=1*this.computedValue:this.initialNumber&&(e=1*this.initialNumber);var t=Math.pow(10,this.numValuePrecision),a=Math.round(t*e-t*this.temporaryStep)/t;a>=this.min?(this.maxDisable=!1,this.computedValue=a):this.minDisable=!0,this.stepsCounterDecrease++}},onInput:function(e){var t=this;this.$nextTick((function(){e.target&&(t.computedValue=t.toNumber(e.target.value))}))},start:function(e){document.addEventListener("mouseup",this.stop),this.startTime=new Date,this.handler=e,clearInterval(this.interval),this.interval=setInterval(e,Ba)},stop:function(e){document.removeEventListener(e.type,this.stop),new Date-this.startTime<Ba&&this.handler(),clearInterval(this.interval),this.interval=null,this.handler=null,this.startTime=null,this.value!==this.computedValue&&this.$emit("change",this.computedValue)},onBlur:function(e){this.$emit("blur",e),this.hasBid||(this.newValue=null),this.hasFocus=!1},onFocus:function(e){this.$emit("focus",e),this.hasBid||(this.newValue=this.initialNumber),this.hasFocus=!0},onChange:function(){this.$emit("change",this.computedValue)},focus:function(){this.disabled||this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},mouseWheelHandler:function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.deltaY<0?this.increment():this.decrement(),!1},throttle:function(e,t){var a=0;return function(){var s=(new Date).getTime();if(!(s-a<t))return a=s,e.apply(void 0,arguments)}}},computed:{computedValue:{get:function(){return this.newValue},set:function(e){var t=this,a=0;!this.initialNumber||0!==this.newValue&&void 0!==this.newValue||!1!==this.initialized||(this.initialized=!0,this.valueBeforeChange=e+a),this.newValue=e+a,this.$emit("input",{value:this.newValue,focus:this.hasFocus}),this.debouncedCallback((function(){t.valueBeforeChange=t.newValue,t.temporaryStep=t.step,t.stepsCounterIncrease=0,t.stepsCounterDecrease=0}))}},numValuePrecision:function(){var e=this.getPrecision(this.step);return void 0!==this.precision?this.precision:Math.max(this.getPrecision(this.computedValue||0),e)},inputClasses:function(){return[this.controls?"":"no-control",this.className?this.className:"","numeric-input"]},inputStyle:function(){return{textAlign:this.align}},widthStyle:function(){var e="150px";return"small"===this.size?e="100px":"large"===this.size&&(e="240px"),{width:this.width?"".concat(this.width):e}}},beforeDestroy:function(){clearInterval(this.interval),this.interval=null,this.handler=null,this.startTime=null}},Aa=ja,Ia=(0,pt.Z)(Aa,Ta,Ea,!1,null,null,null),Na=Ia.exports,Va=function(){var e=this,t=e._self._c;return t(It.Z,{staticClass:"saved-alert",attrs:{type:"success",text:"",transition:"fade-transition",value:e.value}},[e._v(e._s(e.message))])},Fa=[],Ra={name:"SavedAlert",props:{value:{type:Boolean,default:!1,required:!1},message:{type:String,default:"saved",required:!1}}},Ga=Ra,Ua=(0,pt.Z)(Ga,Va,Fa,!1,null,null,null),Wa=Ua.exports;D().locale("deff");var za="hidden-sm-and-down",$a={props:["player"],components:{PlayerCard:Ma,VueNumericInput:Na,SavedAlert:Wa},data:function(){return{playerBid:null,playerBidRepresentation:null,options:{responsive:!1,maintainAspectRatio:!1},calcPercent:.0096,calc05Percent:.005,calc03Percent:.003,calcPercentSafe:.009,lastDayChangesClass:"",selectedBidStep:1,debouncedCallback:null,showSavedAlert:!1,inputValue:null,triggeredByEnterKey:!1,bidButtons:[0,-.9,.3,.5]}},mounted:function(){var e=this;this.lastDayChangesClass=za;var t=this.player.offers;t&&t.length&&t.forEach((function(t){1*t.userId===e.$store.getters.getSelf&&(e.playerBid=t.price)})),this.debouncedCallback=Yt()((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"function"===typeof t[0]&&t[0]()}),1e3)},watch:{inputValue:function(e){var t=this;this.debouncedCallback((function(){e===t.inputValue&&null!==e&&!1===t.triggeredByEnterKey&&t.sendForm()}))}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getSelf","getPlayers","getUsers","getBids"])),{},{bidValue:function(){var e;return null!==(e=this.playerBid)&&void 0!==e?e:this.player.marketValue},inputPlaceholder:function(){return this.player.marketValue+""},sortedOffers:function(){var e=this;if(this.player.offers&&this.player.offers.length){var t=(0,M.Z)(this.player.offers);return t.sort((function(t,a){var s=1*t.userId===e.getSelf,r=1*a.userId===e.getSelf;return s?(t.isSelf=!0,-1):r?(a.isSelf=!0,1):void 0})),t}return[]},foreignOffers:function(){var e=this;return this.sortedOffers.filter((function(t){return 1*t.userId!==e.getSelf}))},hasPlayerStats:function(){return Object.keys(this.getPlayers).length>=1&&this.getPlayers[this.player.id]},expiryDate:function(){var e=L()().subtract(this.player.expiry,"seconds");return e.toNow()},getComputedPrice:function(){return D()(this.player.price).format("0,0")},getComputedBid:function(){var e,t=null!==(e=this.inputValue)&&void 0!==e?e:this.playerBid;return t?D()(t).format("0,0"):"no bid"},getComputedDifference:function(){var e,t=null!==(e=this.inputValue)&&void 0!==e?e:this.playerBid,a=t?D()(t-this.player.price).format("0,0"):"no bid",s=(t-this.player.price)/this.player.price*100,r=Number.parseFloat(s).toPrecision(2);return{number:a,percentage:r}},getComputedDifferenceWording:function(){var e=", which is exactly the market value";return this.getComputedDifference.number<0?e=" less than the market value":this.getComputedDifference.number>0&&(e=" more than the market value"),e},isDarkTheme:function(){return this.$vuetify.theme.dark},getLastChanges:function(){if(this.getPlayers[this.player.id]){for(var e=this.getPlayers[this.player.id].marketValues,t={labels:[],datasets:[{label:"market value",data:[]}]},a=e.length;a>=e.length-21;a--)if(e[a]){var s=L()(e[a].d);t.labels.push(s.format("DD MM")),t.datasets[0].data.push(e[a].m)}return t.labels=t.labels.reverse(),t.datasets[0].data=t.datasets[0].data.reverse(),t}return null},getLastDayChanges:function(){var e=[{text:"day",value:"day",sortable:!1},{text:"change",value:"change",sortable:!1}],t=this.getLastChanges;if(t&&t.datasets&&t.datasets.length){var a=t.datasets[0].data.slice(0).reverse(),s=a[6]?D()(a[0]-a[6]).format("0,0"):null,r=a[13]?D()(a[0]-a[13]).format("0,0"):null;return 0===s||0===r?null:{headers:e,values:[{day:"yesterday",change:D()(a[0]-a[1]).format("0,0")},{day:"7 days change",change:s},{day:"14 days change",change:r}]}}return{headers:e}},getPosition:function(){var e="";switch(this.player.position){case 1:e="goalkeeper";break;case 2:e="defender";break;case 3:e="midfielder";break;case 4:e="forward";break}return e},teamImage:function(){return Ke(this.player.teamId)},hasOwnBid:function(){var e=this,t=this.player.offers,a=!1;return t&&t.length&&t.forEach((function(t){t.userId==e.$store.getters.getSelf&&(a=!0)})),a},hasOnlySelfBid:function(){return this.player.offers&&1===this.player.offers.length&&this.hasOwnBid},hasNoBid:function(){var e=this.player.offers;return e&&0===e.length||!e}}),methods:{dummySubmit:function(){},setInputValue:function(e){e.triggeredByEnterKey?(this.triggeredByEnterKey=!0,this.inputValue=e.value,this.sendForm()):!1===e.focus&&(this.inputValue=e.value)},fetchData:function(){st.loadPlayersStats(this.player.id,null,!0)},getDate:function(e){var t=L()(e);return t.fromNow()},revokeBid:function(){var e=this,t=null;this.getBids.forEach((function(a){a.id===e.player.id&&a.offers&&a.offers.length&&a.offers.forEach((function(a){1*a.userId===e.getSelf&&(t=a)}))})),t&&st.revokeBid(this.player.id,t.id,(0,T.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.playerBid=null,t.next=3,st.loadBids(!1);case 3:case"end":return t.stop()}}),t)}))))},sendPercentageBid:function(e){this.playerBid=1*D()(this.getPercentMVValue(e)).format("0"),this.sendForm()},sendForm:function(){var e=this,t=this.player.marketValue;this.inputValue?t=this.inputValue:this.playerBid&&(t=this.playerBid),st.sendBid(this.player.id,t,function(){var a=(0,T.Z)(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.offerId){a.next=10;break}return e.playerBid=t,e.inputValue=null,e.showSavedAlert=!0,e.triggeredByEnterKey=!1,a.next=7,st.loadBids(!1);case 7:return a.next=9,Je(1500);case 9:e.showSavedAlert=!1;case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),!1,(function(){e.triggeredByEnterKey=!1}))},resetPlayerBid:function(){this.hasOwnBid||(this.playerBid=null)},getUsersPlayers:function(e){var t=this.getUsers;return t[e]&&t[e].players&&t[e].players.length?t[e].players.length:0},openLastDayChanges:function(){""===this.lastDayChangesClass?this.lastDayChangesClass=za:this.lastDayChangesClass=""},getPercentMVValue:function(e){return this.player.marketValue+this.player.marketValue*e/100},getPercentMVValueRepresentation:function(e){return D()(this.getPercentMVValue(e)).format("0,0")},getButtonLabel:function(e){var t="",a=this.getPercentMVValueRepresentation(e);return e<0?t=e+"%":e>0&&(t="+"+e+"%"),"<strong>MV".concat(t,"</strong>: ").concat(a)}}},qa=$a,Ha=(0,pt.Z)(qa,qt,Ht,!1,null,null,null),Ka=Ha.exports,Ya=function(){var e=this,t=e._self._c;return t("div",{staticClass:"options-bar"},[!1===e.mobileState?t("div",{staticClass:"options-bar__mobile_content"},[t(rt.Z,{staticClass:"options-bar__expand-btn elevation-15",attrs:{large:"",fab:"",color:"secondary"},on:{click:e.toggleMobileState}},[e._v(" "+e._s(e.title)+" ")]),t("div",{staticClass:"other-buttons"},[e._t("other-buttons")],2)],1):e._e(),t("div",{staticClass:"options-bar__expanded_content",class:{"options-bar__expanded_content--active":e.mobileState,"elevation-15":e.mobileState}},[t("div",{staticClass:"options-bar__expanded_content__inner"},[t("div",{staticClass:"options-bar__expanded_content__inner__content"},[t("p",{staticClass:"text-h6 mb-6"},[e._v(e._s(e.title))]),e._t("content"),e.hasInfoSlot?t(rt.Z,{staticClass:"mb-2 options-bar__info-button",attrs:{text:"",color:"info"},on:{click:e.toggleShowInfo}},[e.showInfo?t("span",[e._v("hide")]):t("span",[e._v("show")]),e._v(" "+e._s(e.infoButtonTitle)+" ")]):e._e(),e.showInfo?t("div",{staticClass:"options-bar__info_content"},[e._t("info")],2):e._e()],2),e.mobileState?t(rt.Z,{staticClass:"mt-5 kp-button elevation-0",attrs:{block:"","x-large":""},on:{click:e.toggleMobileState}},[e._v("close")]):e._e()],1)])])},Ja=[],Xa={name:"OptionsBar",props:{title:{default:"Options",required:!1,type:String},infoButtonTitle:{type:String,required:!1,default:"Show"}},data:function(){return{showInfo:!1,mobileState:!1}},computed:{hasInfoSlot:function(){return!!this.$slots.info}},methods:{toggleShowInfo:function(){this.showInfo=!this.showInfo},toggleMobileState:function(){this.mobileState=!this.mobileState;var e=this.mobileState?"add":"remove";document.body.classList[e]("options-open")}}},Qa=Xa,es=(0,pt.Z)(Qa,Ya,Ja,!1,null,null,null),ts=es.exports,as=function(){var e=this,t=e._self._c;return t(rt.Z,{staticClass:"reload-button elevation-0",attrs:{loading:e.loading,disabled:e.loading,fab:"","x-large":e.xLarge,large:e.large,color:e.color}},[t(u.Z,[e._v(" fa-redo ")])],1)},ss=[],rs={name:"ReloadButton",props:{loading:{type:Boolean,required:!1,default:!1},color:{type:String,required:!1,default:"secondary"},xLarge:{type:Boolean,required:!1,default:!1},large:{type:Boolean,required:!1,default:!1}}},ns=rs,is=(0,pt.Z)(ns,as,ss,!1,null,null,null),os=is.exports,ls=function(){var e=this,t=e._self._c;return t("div",{staticClass:"spinner"},[t(v.Z,{attrs:{indeterminate:"",size:64,width:8,color:"dark"}})],1)},us=[],cs={name:"loading-spinner"},fs=cs,ds=(0,pt.Z)(fs,ls,us,!1,null,null,null),hs=ds.exports,ps={name:"transfermarket-view",components:{LoadingSpinner:hs,BidRow:Ka,OptionsBar:ts,ReloadButton:os},data:function(){return{players:[],search:null,showOtherUsersPlayer:!1,positions:["All","Goalkeeper","Defender","Midfielder","Forward"],selectedFilteredPosition:null,loading:!1}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getBids","getSelf","getSelfPlayerDetails","getSelectedLeague"])),{},{playersLeft:function(){return this.getSelectedLeague&&this.getSelectedLeague.pl?this.getSelfPlayerDetails&&this.getSelfPlayerDetails.players&&this.getSelectedLeague?this.getSelectedLeague.pl-this.getSelfPlayerDetails.players.length:0:"unlimited"},alertColor:function(){return 0===this.playersLeft?"red darken-2":1===this.playersLeft?"orange darken-2":"success darken-2"},getFilteredPlayers:function(){var e=this.getBids;if(this.search){var t=new RegExp(this.search,"i");e=e.filter((function(e){return e.lastName.match(t)}))}if(this.selectedFilteredPosition){var a=null;switch(this.selectedFilteredPosition){case"All":break;case"Goalkeeper":a=1;break;case"Defender":a=2;break;case"Midfielder":a=3;break;case"Forward":a=4;break;default:a=null;break}a&&(e=e.filter((function(e){return e.position===a})))}return this.showOtherUsersPlayer||(e=e.filter((function(e){return!e.userId}))),e}}),mounted:function(){this.init()},watch:{search:function(){this.players=this.getFilteredPlayers},getBids:function(){this.players=this.getBids},selectedFilteredPosition:function(){this.players=this.getFilteredPlayers}},methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["setBids"])),{},{init:function(){var e=(0,T.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.getSelf){e.next=8;break}return e.next=3,st.loadBids(!0);case 3:return e.next=5,st.loadUsers(!1);case 5:this.players=this.getBids,e.next=9;break;case 8:window.setTimeout(this.init,1e3);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),load:function(){var e=this;this.players=[],this.setBids([]),this.loading=!0,st.loadBids(!1,(function(){window.setTimeout((function(){e.loading=!1}),600)}))}})},gs=ps,ms=(0,pt.Z)(gs,Ft,Rt,!1,null,null,null),ys=ms.exports,vs=a(63486),_s=function(){var e=this,t=e._self._c;return e.playersStack&&e.playersStack.length||e.playerNotOnMarket&&e.playerNotOnMarket.length?t("div",{staticClass:"full-width-container full-width-container--with-options-bar"},[t("options-bar",{attrs:{"info-button-title":"your defaults"},scopedSlots:e._u([{key:"content",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,color:"transparent"},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}}),t("sell-view-order"),t(vs.Z,{attrs:{label:"show only too low offers"},model:{value:e.showPlayerWithTooLowOffersOnly,callback:function(t){e.showPlayerWithTooLowOffersOnly=t},expression:"showPlayerWithTooLowOffersOnly"}}),e.tooLowOffers.length?t("div",[t(rt.Z,{staticClass:"kp-button kp-button__decline-all kp-button--in-options-bar mb-4",attrs:{"x-large":""},on:{click:e.declineAllTooLowOffers}},[e._v(" decline all "),t("strong",[e._v(e._s(e.tooLowOffers.length)+" offers")]),e._v(" that are too low ")]),t("p",{staticClass:"text-caption"},[e._v("Players with too low offers:")]),t("ol",{staticClass:"text-caption mb-5"},e._l(e.tooLowOffers,(function(a){return t("li",{key:a.id},[e._v(" "+e._s(a.displayName)+" ")])})),0)],1):e._e()]},proxy:!0},{key:"other-buttons",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,large:!0,color:"secondary"},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}}),e.tooLowOffers.length?t(rt.Z,{staticClass:"button-text-wrap button-text-065rem",attrs:{large:"",fab:"",color:"red darken-4 text--white"},on:{click:e.declineAllTooLowOffers}},[e._v(" decline "),t("strong",[e._v(e._s(e.tooLowOffers.length))]),e._v(" low offers ")]):e._e()]},proxy:!0},{key:"info",fn:function(){return[t(It.Z,{attrs:{outlined:"",type:"info",icon:!1}},[t("div",{staticClass:"d-flex align-center"},[t(u.Z,{staticClass:"mr-2",attrs:{color:"info"}},[e._v("fa-info-circle")]),t("p",{staticClass:"caption mb-0"},[e._v(" your default settings: ")])],1),t($t.Z,[[t("tbody",[t("tr",[t("th",[e._v("Order")]),t("td",[e._v(e._s(e.getOfferOrderLabel))])]),t("tr",[t("th",[e._v("Offer threshold")]),t("td",[e._v(e._s(e.getOfferThreshold))])]),t("tr",[t("th",[e._v('Open "player not on market" panel')]),t("td",[e._v(e._s(e.getOfferOpenPlayerNotOnMarketPanel))])]),t("tr",[t("th",[e._v('Open "player without any offer" panel')]),t("td",[e._v(e._s(e.getOfferOpenPlayerWithoutAnyOfferPanel))])]),t("tr",[t("th",[e._v('Checkbox "Show only too low offers"')]),t("td",[e._v(e._s(e.getOfferShowTooLowOffersOnly))])])])]],2)],1)]},proxy:!0}],null,!1,1169590319)}),!1===e.loading?t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t(Xt.Z,{staticClass:"elevation-1 player-card-accordion",attrs:{multiple:"",accordion:"",focusable:""},model:{value:e.openPanels,callback:function(t){e.openPanels=t},expression:"openPanels"}},[t(Gt.Z,[t(Wt.Z,{staticClass:"elevation-0"},[t(u.Z,{staticClass:"mr-2 player-card-accordion__icon"},[e._v("fa-money-bill-wave")]),t("strong",[e._v(e._s(e.playerNotOnMarket.length))]),e._v(" player not on market ")],1),t(Ut.Z,e._l(e.playerNotOnMarket,(function(a,s){return t(nt.Z,{key:s,staticClass:"pa-2",attrs:{outlined:"",tile:""}},[t("h3",{staticClass:"title"},[a.knownName?t("span",[e._v(e._s(a.knownName))]):t("span",[e._v(e._s(a.firstName)+" "+e._s(a.lastName))])]),t(rt.Z,{attrs:{block:"",color:"grey darken-1 white--text",large:""},on:{click:function(t){return e.putOnMarket(a)}}},[e._v("Put on market")])],1)})),1)],1),e.playerWithoutAnyOffer.length>0?t(Gt.Z,[t(Wt.Z,{staticClass:"elevation-0"},[t(u.Z,{staticClass:"mr-2 player-card-accordion__icon"},[e._v("fa-spinner")]),t("strong",[e._v(e._s(e.playerWithoutAnyOffer.length))]),e._v(" players who have no offer at the moment ")],1),t(Ut.Z,e._l(e.playerWithoutAnyOffer,(function(a){return t("offer-player-item",{key:a.id,attrs:{player:a,"hide-meta":!0},on:{setPlayers:e.setPlayers}})})),1)],1):e._e()],1),e._l(e.playerWithAnOffer,(function(a){return t("offer-player-item",{key:a.id,attrs:{player:a,"show-player-with-too-low-offers-only":e.showPlayerWithTooLowOffersOnly},on:{setPlayers:e.setPlayers}})}))],2):t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t("spinner")],1)],1):t("spinner")},bs=[],ks=function(){var e=this,t=e._self._c;return e.show?t("player-card",{class:{"offer--high":e.player.hasHighOffer,"offer--low":e.player.hasLowOffer},attrs:{player:e.player,"hide-player-status":e.hidePlayerCardDetail,"hide-player-position":e.hidePlayerCardDetail,"hide-player-points":e.hidePlayerCardDetail,"hide-meta":e.hideMeta}},[e._l(e.player.offers,(function(a){return t(nt.Z,{key:a.id,staticClass:"mb-6 elevation-0 offer",class:e.isAnHighOffer(a)?"offer--high":"offer--low"},[t(it.ZB,[!0===e.hasNonCPUOffers(e.player)?t("p",{staticClass:"mb-0"},[a.userName?t("span",[e._v(" "+e._s(a.userName)+" ")]):t("span",[e._v("KICKBASE")])]):e._e(),t("p",{staticClass:"text-subtitle-1 text-sm-h5 text--primary mb-0"},[t("strong",[e._v(e._s(e.getOffer(a)))]),e._v(" | "),t("span",{staticClass:"text-caption text-sm-body-1"},[a.userName?t("span",[e._v("from "+e._s(e._f("expiry")(a.date)))]):t("span",[t("span",{staticClass:"hidden-xs-only"},[e._v("expires")]),t("span",{staticClass:"hidden-sm-and-up"},[e._v("exp.")]),e._v(" "+e._s(e._f("expiry")(a.validUntilDate))+" ")])])]),t("div",{staticClass:"text-subtitle-2 text-sm-h6 text--primary mb-0 d-flex align-center"},[t("span",{staticClass:"profit-info",class:e.isAnHighOffer(a)?"profit-info--green":"profit-info--red"},[e._v(" Offer: "+e._s(e._f("numeral")(e.calcOffer(a,e.player.marketValue),"0,0 $"))+" ("+e._s(e.percent(a))+"%) ")]),t("span",{staticClass:"profit-info",class:e.profit(a)>1?"profit-info--green":"profit-info--red"},[e._v(" Profit: "+e._s(e._f("numeral")(e.profit(a),"0,0 $"))+" ")])])]),t(it.h7,[t("accept-button",{attrs:{offer:a,player:e.player,"is-high-offer":e.isAnHighOffer(a)},on:{acceptOffer:e.acceptOffer}})],1)],1)})),t("div",{staticClass:"mb-5"},[e.hasOffer(e.player)?t(rt.Z,{staticClass:"kp-button kp-button__decline-all",attrs:{"x-large":"",block:""},on:{click:function(t){return e.removePlayerFromMarket(e.player)}}},[t(u.Z,{attrs:{left:""}},[e._v("fa-times")]),e._v(" DECLINE "),!0===e.hasNonCPUOffers(e.player)?t("span",[e._v(" ALL ")]):e._e(),e._v(" AND ADD AGAIN ")],1):e._e()],1)],2):e._e()},Os=[],ws=function(){var e=this,t=e._self._c;return t(rt.Z,{staticClass:"mb-2 mb-sm-5 kp-button kp-button__accept",class:{"high-offer":e.isHighOffer,"low-offer":!e.isHighOffer},attrs:{block:"",large:"",text:"","x-large":""},on:{click:function(t){return e.acceptOffer()}}},[t(u.Z,{attrs:{color:"white",left:""}},[e._v("fa-check-circle")]),e._v(" ACCEPT "+e._s(e.offerWording)+" OFFER "),e.showNameInfo?t("span",[e._v("  FROM "),t("strong",[e._v(e._s(e.username))])]):e._e()],1)},Ps=[],Cs={name:"accept-button-sell",components:{},props:{offer:{required:!0,type:Object},player:{required:!0,type:Object},isHighOffer:{required:!1,type:Boolean,default:!1}},computed:{showNameInfo:function(){return this.offer.userName},username:function(){return this.offer.userName?this.offer.userName:"KICKBASE"},offerWording:function(){return this.isHighOffer?"high":"low"}},methods:{acceptOffer:function(){var e="Accept ".concat(this.username,"'s offer for player \"").concat(this.player.firstName," ").concat(this.player.lastName,'" ?');if(window.confirm(e)){var t={offerId:this.offer.id,playerId:this.player.id};this.$emit("acceptOffer",{offer:t})}}}},Ss=Cs,xs=(0,pt.Z)(Ss,ws,Ps,!1,null,null,null),Ls=xs.exports;D().locale("deff");var Zs={name:"offer-player-item",components:{PlayerCard:Ma,AcceptButton:Ls},data:function(){return{}},props:{player:{required:!0,type:Object},showPlayerWithTooLowOffersOnly:{required:!1,default:!1,type:Boolean},hideMeta:{required:!1,default:!1,type:Boolean}},filters:{expiry:function(e){var t=L()(e);return t.fromNow()}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getSelf","getPlayersOfMe","getLeague","getPlayers","getOfferThreshold"])),{},{show:function(){return!this.showPlayerWithTooLowOffersOnly||this.showPlayerWithTooLowOffersOnly&&this.player.hasLowOffer},hidePlayerCardDetail:function(){return!0===(!this.player.offers||this.player.offers&0===this.player.offers.length)}}),methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["addLoadingMessage","setLoading","resetLoading"])),{},{calcOffer:function(e,t){return Xe(e,t)},percent:function(e){return Qe(this.player,e)},isAnHighOffer:function(e){return et(this.player,e,this.getOfferThreshold)},hasNonCPUOffers:function(e){return e.offers.filter((function(e){return e.userName})).length>0},getOffer:function(e){return D()(e.price).format("0,0 $")},hasOffer:function(e){return e.offers&&e.offers.length},profit:function(e){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer?e.price-this.getPlayers[this.player.id].leaguePlayer.buyPrice:null},removePlayerFromMarket:function(e){this.player.hasHighOffer?window.confirm('Add player "'+e.firstName+" "+e.lastName+'" to the transfer market again despite high offer?')&&this.setPlayerOnMarketAgain(e):this.setPlayerOnMarketAgain(e)},setPlayerOnMarketAgain:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:st.setPlayerOnMarketAgain(e,(function(e){t.$emit("setPlayers",e)}));case 1:case"end":return a.stop()}}),a)})))()},acceptOffer:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.setLoading(!0),a.next=3,st.acceptBids(e.offer);case 3:return a.next=5,Je(500);case 5:return a.next=7,st.loadUsersPlayer(t.getSelf,!1);case 7:return a.next=9,Je(500);case 9:return a.next=11,st.loadUsers(!1);case 11:return a.next=13,st.loadUsersPlayerOffers((function(e){t.$emit("setPlayers",e)}));case 13:case"end":return a.stop()}}),a)})))()}})},Ds=Zs,Ms=(0,pt.Z)(Ds,ks,Os,!1,null,null,null),Ts=Ms.exports,Es=function(){var e=this,t=e._self._c;return t(Nt.Z,{attrs:{items:e.orderOptions,label:"Sort order",outlined:""},model:{value:e.orderLabel,callback:function(t){e.orderLabel=t},expression:"orderLabel"}})},Bs=[],js=(a(46314),{name:"sell-view-order",props:{callback:{type:Function,required:!1,default:null},isTemporary:{type:Boolean,required:!1,default:!0}},data:function(){return{order:null,orderLabel:null}},watch:{order:function(e){"function"===typeof this.callback&&this.callback(e)},orderLabel:function(e){var t=this,a=null,s=Object.keys(this.getDefaults.offerOrders);s.forEach((function(s){t.getDefaults.offerOrders[s]===e&&(a=s)})),a&&(this.order=a,this.storeOrder())}},mounted:function(){this.orderLabel=this.getOrderLabelByKey()},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getDefaults","getOfferOrder"])),{},{orderOptions:function(){var e=this,t=Object.keys(this.getDefaults.offerOrders),a=[];return t.forEach((function(t){a.push(e.getDefaults.offerOrders[t])})),a},computedValue:function(){return this.isTemporary&&this.getOfferOrder.temporary?this.getOfferOrder.temporary:this.getOfferOrder.init}}),methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["setOfferOrder"])),{},{storeOrder:function(){var e=Object.hasOwn(this.getDefaults.offerOrders,this.order),t=this.order;!1===e&&(t=this.getDefaults.offerOrder),this.computedValue!==t&&this.setOfferOrder({order:t,isTemporary:this.isTemporary})},getOrderLabelByKey:function(){return this.getDefaults.offerOrders[this.computedValue]}})}),As=js,Is=(0,pt.Z)(As,Es,Bs,!1,null,null,null),Ns=Is.exports,Vs={name:"sell-view",components:{SellViewOrder:Ns,OptionsBar:ts,Spinner:hs,OfferPlayerItem:Ts,ReloadButton:os},data:function(){return{offers:[],playerNotOnMarket:[],playersStack:[],overlay:!1,showPlayerWithTooLowOffersOnly:!1,actionMessages:[],openPanels:[],tooLowOffers:[],viewOrder:null,loading:!0}},watch:{offers:function(){this.openPanels=[],!0===this.getOfferOpenPlayerNotOnMarketPanel&&this.playerNotOnMarket.length&&this.openPanels.push(0),!0===this.getOfferOpenPlayerWithoutAnyOfferPanel&&this.playerWithoutAnyOffer.length&&this.openPanels.push(1)}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getSelf","getPlayersOfMe","getLeague","getPlayers","getOfferThreshold","getDefaults","getOfferOrderLabel","getOfferOpenPlayerNotOnMarketPanel","getOfferOpenPlayerWithoutAnyOfferPanel","getOfferOrder","getOfferShowTooLowOffersOnly"])),{},{getToken:function(){return st.getToken()},playerWithoutAnyOffer:function(){return this.offers.filter((function(e){return!e.offers||e.offers&&0===e.offers.length}))},playerWithAnOffer:function(){var e=this.offers.filter((function(e){return e.offers&&e.offers.length>=1}));return"oldest"===this.getComputedOrder?e.sort((function(e,t){return e.expiry>t.expiry?1:-1})):"newest"===this.getComputedOrder&&e.sort((function(e,t){return e.expiry>t.expiry?-1:1})),e},getComputedOrder:function(){var e;return null!==(e=this.getOfferOrder.temporary)&&void 0!==e?e:this.getOfferOrder.init}}),mounted:function(){this.init(),this.showPlayerWithTooLowOffersOnly=this.getOfferShowTooLowOffersOnly},methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["addLoadingMessage","setLoading","resetLoading"])),{},{init:function(){var e=(0,T.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.getSelf){e.next=7;break}return e.next=3,this.load();case 3:return e.next=5,st.loadUsers(!1);case 5:e.next=8;break;case 7:window.setTimeout(this.init,1e3);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),load:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,st.loadUsersPlayer(e.getSelf);case 3:return t.next=5,st.loadUsersPlayerOffers(e.setPlayers);case 5:case"end":return t.stop()}}),t)})))()},sortOffers:function(e){this.viewOrder=e},setPlayers:function(e){var t=this;window.setTimeout((function(){t.resetLoading()}),500),this.offers=[],this.playerNotOnMarket=[],this.playersStack=[],this.tooLowOffers=[],e.players&&e.players.length&&(e.players.forEach((function(e){var a;e.userId&&1*e.userId===t.getSelf&&((!e.offers||e.offers&&e.offers.length>=0)&&(e.hasHighOffer=t.hasHighOffer(e),e.hasLowOffer=t.hasLowOffer(e),e.displayName=null!==(a=e.knownName)&&void 0!==a?a:"".concat(e.firstName," ").concat(e.lastName),!1===e.hasHighOffer&&!0===e.hasLowOffer&&t.tooLowOffers.push(e),t.offers.push(e),t.playersStack.push(e.id)))})),this.sortOffers(),this.getPlayersOfMe.forEach((function(e){-1===t.playersStack.indexOf(e.id)&&t.playerNotOnMarket.push(e)}))),window.setTimeout((function(){t.loading=!1}),500)},putOnMarket:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setLoading(!0),st.putOnMarket(e,(function(){st.loadUsersPlayerOffers(t.setPlayers)}),a)},declineAllTooLowOffers:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a,s,r,n,i,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=[],s=(0,ya.Z)(e.tooLowOffers),t.prev=2,s.s();case 4:if((r=s.n()).done){t.next=11;break}return n=r.value,t.next=8,st.setPlayerOnMarketAgain(n,null,!1);case 8:a.push(n.id);case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),s.e(t.t0);case 16:return t.prev=16,s.f(),t.finish(16);case 19:return t.next=21,Je(500);case 21:return t.next=23,e.load();case 23:if(!e.playerNotOnMarket){t.next=47;break}i=!1,o=(0,ya.Z)(e.playerNotOnMarket),t.prev=26,o.s();case 28:if((l=o.n()).done){t.next=36;break}if(u=l.value,-1===a.indexOf(u.id)){t.next=34;break}return t.next=33,st.setPlayerOnMarketAgain(u,null,!1);case 33:i=!0;case 34:t.next=28;break;case 36:t.next=41;break;case 38:t.prev=38,t.t1=t["catch"](26),o.e(t.t1);case 41:return t.prev=41,o.f(),t.finish(41);case 44:if(!i){t.next=47;break}return t.next=47,e.load();case 47:case"end":return t.stop()}}),t,null,[[2,13,16,19],[26,38,41,44]])})))()},hasHighOffer:function(e){var t=this,a=!1;if(e.offers&&e.offers.length){var s=e.offers.filter((function(a){return et(e,a,t.getOfferThreshold)}));a=s.length>=1}return a},hasLowOffer:function(e){var t=this,a=!1;if(e.offers&&e.offers.length){var s=e.offers.filter((function(a){return!1===et(e,a,t.getOfferThreshold)}));a=s.length>=1}return a}})},Fs=Vs,Rs=(0,pt.Z)(Fs,_s,bs,!1,null,null,null),Gs=Rs.exports,Us=function(){var e=this,t=e._self._c;return t("div",[e.items&&e.items.length?t(o.Z,e._l(e.items,(function(a){return t(nt.Z,{key:a.id,staticStyle:{"margin-bottom":"20px"}},[t("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[e.getPlayerImage(a)?t(xt.Z,{attrs:{tile:"",size:"125"}},[t(Qt.Z,{attrs:{src:e.getPlayerImage(a),"aspect-ratio":"1"}})],1):e._e(),t(d.Z,{attrs:{"three-line":""}},[t(p.km,[t("div",{staticClass:"overline"},[e._v(" "+e._s(e._f("age")(a.age))+" ")]),t(p.V9,{staticClass:"headline mb-1 wrap-title"},[t("span",{staticClass:"news-details",domProps:{innerHTML:e._s(e.getCardsText(a))}})]),e.getPurchaseInfo(a)?t("div",{staticClass:"flex-wrap max-height news-details",domProps:{innerHTML:e._s(e.getPurchaseInfo(a))}}):e._e()],1)],1)],1)])})),1):t("spinner")],1)},Ws=[];D().locale("deff");var zs={name:"feed-view",components:{Spinner:hs},filters:{age:function(e){var t=L()().add(e,"seconds");return t.toNow()}},data:function(){return{items:[]}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getBearerToken","getSelf","getPlayersOfMe","getLeague","getPlayers"])),{},{getToken:function(){return st.getToken()}}),mounted:function(){var e=this;window.setTimeout((function(){st.loadFeed(e.setFeed)}),2e3)},methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["addLoadingMessage","setLoading","resetLoading"])),{},{setFeed:function(e){e.items&&(this.items=e.items.sort((function(e,t){return e.age>t.age?1:e.age<t.age?-1:0})),this.items.forEach((function(e){e.meta&&e.meta.p&&e.meta.p.i&&st.loadPlayersStats(e.meta.p.i)})))},getPlayerImage:function(e){var t=null;return e.meta&&e.meta.p&&e.meta.p.i&&(t=e.meta.p.i),e.meta&&e.meta.pid&&(t=e.meta.pid),e.meta&&e.meta.f?e.meta.f:t?"https://kkstr.s3.amazonaws.com/pool/playersbig/".concat(t,".png"):null},getCardsText:function(e){var t=null;if(15===e.type&&e.meta&&e.meta.s&&e.meta.s.n&&e.meta.p&&e.meta.p.n&&(t="<strong>".concat(e.meta.s.n,"</strong> sold <strong>").concat(e.meta.p.n,"</strong> to KICKBASE")),15===e.type&&e.meta&&e.meta.b&&e.meta.b.n&&e.meta.p&&e.meta.p.n){var a="KICKBASE";e.meta.s&&e.meta.s.n&&(a=e.meta.s.n),t="<strong>".concat(e.meta.b.n,"</strong> bought <strong>").concat(e.meta.p.n,"</strong> from ").concat(a," for:")}return 3===e.type&&(t="<strong>".concat(e.meta.pfn," ").concat(e.meta.pln,"</strong> is on the transfer market")),16===e.type&&(t="<strong>".concat(e.meta.t,"</strong> ").concat(e.meta.sti)),t},getPurchaseInfo:function(e){var t=null;if(15===e.type&&e.meta&&e.meta.b){var a=D()(e.meta.v).format("0,0 $");if(t="".concat(a),e.meta.p&&this.getPlayers[e.meta.p.i]){t+=" / MV: "+D()(this.getPlayers[e.meta.p.i].marketValue).format("0,0 $");var s=e.meta.v-this.getPlayers[e.meta.p.i].marketValue;t+=s>0?'&nbsp;/&nbsp;<span style="color: red"> paid '+D()(s).format("0,0 $")+" more than MV</span>":'&nbsp;/&nbsp;<span style="color: green"> paid '+D()(s).format("0,0 $")+" less than MV</span>"}}else if(15===e.type&&e.meta&&e.meta.s){var r=D()(e.meta.v).format("0,0 $");if(t="".concat(r),e.meta.p&&this.getPlayers[e.meta.p.i]){t+=" / MV: "+D()(this.getPlayers[e.meta.p.i].marketValue).format("0,0 $");var n=e.meta.v-this.getPlayers[e.meta.p.i].marketValue;t+=n>0?'&nbsp;/&nbsp;<span style="color: green"> sold '+D()(n).format("0,0 $")+" over MV</span>":'&nbsp;/&nbsp;<span style="color: red"> sold '+D()(n).format("0,0 $")+" below MV</span>"}}return t}})},$s=zs,qs=(0,pt.Z)($s,Us,Ws,!1,null,null,null),Hs=qs.exports,Ks=a(60266),Ys=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container"},[t("div",{staticClass:"d-flex flex-wrap flex-sm-nowrap justify-space-between align-center"},[t("h2",{staticClass:"text-h4 text-sm-h3 mb-5"},[e._v("Live Scores")]),t("reload-button",{attrs:{loading:e.loading},nativeOn:{click:function(t){return e.reload.apply(null,arguments)}}})],1),e.getUsers&&e.getUsers.length?t(Xt.Z,{staticClass:"elevation-1 player-card-accordion",attrs:{accordion:""}},e._l(e.getUsers,(function(a,s){return t(Gt.Z,{key:a.id},[t(Wt.Z,{staticClass:"elevation-0",scopedSlots:e._u([{key:"default",fn:function(){return[t(ea.Z,{attrs:{"no-gutters":""}},[t(Ks.Z,{attrs:{cols:"12",md:"3"}},[e._v(" "+e._s(s+1)+". "),t("strong",[e._v(e._s(a.n))]),e._v(": ")]),t(Ks.Z,{staticClass:"text--secondary",attrs:{md:"9",cols:"12"}},[e._v(" "+e._s(a.t)+" / "+e._s(a.st)+" (with "),t("strong",[e._v(e._s(e.numberOfPlayersWhoScored(a.pl)))]),e._v("players, who have scored) ")])],1)]},proxy:!0}],null,!0)}),t(Ut.Z,[t(Jt.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:a.pl,options:e.options,"mobile-breakpoint":0,"hide-default-footer":""}})],1)],1)})),1):t("spinner")],1)},Js=[];D().locale("deff");var Xs,Qs,er={name:"live-view",components:{ReloadButton:os,Spinner:hs},data:function(){return{loading:!1,headers:[{text:"Name",align:"start",value:"displayName"},{text:"Points",value:"t"},{text:"Goals",value:"g",align:" d-none d-md-table-cell"},{text:"Assists",value:"a",align:" d-none d-md-table-cell"},{text:"Yellow-Card",value:"y",mobile:!1,align:" d-none d-md-table-cell"},{text:"Yellow/Red-Card",value:"yr",align:" d-none d-md-table-cell"},{text:"Red-Card",value:"r",align:" d-none d-md-table-cell"},{text:"position",value:"p",align:" d-none"},{text:"s",value:"s",align:" d-none"},{text:"tid",value:"tid",align:" d-none "}],options:{itemsPerPage:100,body:{isMobile:!1}}}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getLiveData"])),{},{getUsers:function(){if(this.getLiveData&&this.getLiveData.u&&this.getLiveData.u.length){var e=this.getLiveData.u;return e.sort((function(e,t){if(e.t>t.t)return-1;if(e.t<t.t)return 1;if(e.t===t.t){if(e.st>t.st)return-1;if(e.st<t.st)return 1}return 0})),e.forEach((function(e){e.pl.length&&e.pl.forEach((function(e){var t="";e.fn&&(t+=e.fn+" "),t+="".concat(e.n," (").concat(e.nr,")"),e.displayName=t}))})),e}return[]}}),mounted:function(){var e=this;this.loading=!0,window.setTimeout((function(){e.reload()}),2e3)},methods:{reload:function(){var e=this;this.loading=!0,st.loadGlobalLiveData((function(){window.setTimeout((function(){e.loading=!1}),200)}))},numberOfPlayersWhoScored:function(e){return e.filter((function(e){return 0!==e.t})).length}}},tr=er,ar=(0,pt.Z)(tr,Ys,Js,!1,null,null,null),sr=ar.exports,rr=function(){var e=this,t=e._self._c;return t("div",[e.lineup&&e.lineup.length?t(o.Z,[t("div",{staticClass:"d-md-flex flex-wrap flex-md-nowrap align-center justify-space-between mb-5"},[t("div",{staticClass:"wid"},[e._v(" current formation: "+e._s(e.formation)+" ")]),t("div",[t(Nt.Z,{attrs:{items:e.possibleFormations,filled:"",label:"change formation",color:"primary","hide-details":!0},on:{change:e.changeFormation},model:{value:e.selectedFormation,callback:function(t){e.selectedFormation=t},expression:"selectedFormation"}})],1)]),t("div",{staticClass:"field"},[t("div",{staticClass:"position__container position--forwards"},e._l(e.lineupBlocks.forwards,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.matches},on:{openChangeDialog:e.openChangeDialog}})})),1),t("div",{staticClass:"position__container position--midfielders"},e._l(e.lineupBlocks.midfielders,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.matches},on:{openChangeDialog:e.openChangeDialog}})})),1),t("div",{staticClass:"position__container position--defenders"},e._l(e.lineupBlocks.defenders,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.matches},on:{openChangeDialog:e.openChangeDialog}})})),1),t("div",{staticClass:"position__container position--goalie"},e._l(e.lineupBlocks.goalie,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.matches},on:{openChangeDialog:e.openChangeDialog}})})),1)]),t("div",{staticClass:"h4 mt-4"},[e._v("Goalies")]),t("lineup-table",{attrs:{items:e.goalies}}),t("div",{staticClass:"h4 mt-4"},[e._v("Defenders")]),t("lineup-table",{attrs:{items:e.defenders}}),t("div",{staticClass:"h4 mt-4"},[e._v("Midfielders")]),t("lineup-table",{attrs:{items:e.midfielders}}),t("div",{staticClass:"h4 mt-4"},[e._v("Forwards")]),t("lineup-table",{attrs:{items:e.forwards}}),t(ot.Z,{attrs:{width:"75%"},model:{value:e.lineUpDialog.show,callback:function(t){e.$set(e.lineUpDialog,"show",t)},expression:"lineUpDialog.show"}},[t(nt.Z,[t(it.EB,{staticClass:"headline black white--text"},[e._v(" change  "),e.lineUpDialog.player&&e.lineUpDialog.player.id?t("strong",[e._v(e._s(e.playerName(e.lineUpDialog.player)))]):e._e()]),t(it.ZB,[t("h3",[e._v(" other "+e._s(e.positionName(e.lineUpDialog.position))+" player "),t("small",[e._v("(not already in line-up)")])]),e._l(e.otherPlayer(e.lineUpDialog.player),(function(a){return t("div",{key:a.id,staticClass:"change-line-up__other-player align-center"},[t(rt.Z,{staticClass:"kp-button",attrs:{block:"",color:"deep-purple darken-3 white--text line-up__option-button","x-large":""},on:{click:function(t){return e.saveLineup(e.lineUpDialog.player,a)}}},[t("div",{staticClass:"d-block d-sm-flex flex-wrap flex-sm-nowrap"},[t("div",{staticClass:"d-flex align-center"},[e._v(" "+e._s(e.playerName(a))+" "),e.playerTeamImg(a)?t("img",{attrs:{src:e.playerTeamImg(a)}}):e._e()]),t("div",{staticClass:"d-flex align-center"},[t("status-pill",{attrs:{player:a}}),e.playerVs(a)?t("span",{staticClass:"vsInfo"},[e._v(" vs: "),t("img",{staticClass:"vsTeam",attrs:{src:e.playerVs(a).img}}),e._v(" "+e._s(e.playerVs(a).abbr)+" ")]):e._e()],1)])])],1)})),e.lineUpDialog.player&&e.lineUpDialog.player.id?t(rt.Z,{attrs:{block:"",color:"red darken-3 white--text","x-large":""},on:{click:function(t){return e.saveLineup(e.lineUpDialog.player,{position:e.lineUpDialog.player.position})}}},[e._v(" reset position ")]):e._e()],2),t(l.Z),t(it.h7,[t(rt.Z,{attrs:{color:"secondary"},on:{click:e.closeChangeDialog}},[e._v(" cancel ")])],1)],1)],1)],1):t("spinner")],1)},nr=[],ir=(a(23123),function(){var e=this,t=e._self._c;return t("div",{staticClass:"position--lined-up",on:{click:e.openChangeDialog}},[e.item.firstName||e.item.knownName?t("div",{staticClass:"d-flex flex-wrap flex-sm-nowrap align-center",staticStyle:{width:"100%"}},[t("div",{staticClass:"d-flex align-center"},[t("img",{attrs:{src:e.teamImage,width:"48"}}),t("p",{staticClass:"text-caption text-sm-h6 mb-0 mr-5 d-inline-block"},[e.item.knownName?t("span",{staticClass:"player-name"},[e._v(e._s(e.item.knownName))]):t("span",{staticClass:"player-name"},[e._v(e._s(e.item.firstName)+" "+e._s(e.item.lastName))])])]),t("status-pill",{attrs:{player:e.item}}),e.nextMatchComputed?t("span",{staticClass:"vsInfo ml-5 text-caption text-sm-body-1"},[e._v(" vs: "),t("img",{staticClass:"vsTeam",attrs:{src:e.nextMatchComputed.img}}),e._v(" "+e._s(e.nextMatchComputed.abbr)+" ")]):e._e()],1):t("div",{staticClass:"d-flex align-center"},[t(xt.Z,{staticClass:"no-position",attrs:{size:"48"}},[t(u.Z,{attrs:{size:"48",color:"blue-grey darken-2"}},[e._v(" fa-plus-circle ")])],1),t("p",{staticClass:"text-body-1 ma-0 ml-5"},[e._v("add player")])],1)])}),or=[],lr={props:{item:{type:Object,required:!0},matches:{type:Array,required:!1}},components:{StatusPill:la},computed:{teamImage:function(){return Ke(this.item.teamId)},nextMatchComputed:function(){return Ye(this.matches,this.item)}},methods:{openChangeDialog:function(){var e=this.item;e.match=this.match,this.$emit("openChangeDialog",{player:e})}}},ur=lr,cr=(0,pt.Z)(ur,ir,or,!1,null,null,null),fr=cr.exports,dr=function(){var e=this,t=e._self._c;return t($t.Z,{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Name ")]),t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Total points ")]),t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Average points ")]),t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Status ")])])]),t("tbody",e._l(e.items,(function(a){return t("tr",{key:a.name},[t("td",[a.knownName?t("span",[e._v(e._s(a.knownName))]):t("span",[e._v(e._s(a.firstName)+" "+e._s(a.lastName))])]),t("td",[e._v(e._s(a.totalPoints))]),t("td",[e._v(e._s(a.averagePoints))]),t("td",[t("status-pill",{attrs:{player:a}})],1)])})),0)]},proxy:!0}])})},hr=[],pr={props:{items:{type:Array,required:!0}},components:{StatusPill:la}},gr=pr,mr=(0,pt.Z)(gr,dr,hr,!1,null,null,null),yr=mr.exports,vr={name:"lineup-component",components:{LineupTable:yr,LineupItem:fr,StatusPill:la,Spinner:hs},data:function(){return{formation:null,selectedFormation:null,possibleFormations:["3-4-3","3-5-2","3-6-1","4-2-4","4-3-3","4-4-2","4-5-1","5-2-3","5-3-2","5-4-1"],lineup:[],lineupBlocks:{goalie:[],defenders:[],midfielders:[],forwards:[]},players:[],positions:{goalie:1,defenders:0,midfielders:0,forwards:0},matches:[],lineUpDialog:{show:!1,position:"",player:null}}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getLeague","getSelf"])),{},{goalies:function(){var e=[];return this.players.length&&(e=this.players.filter((function(e){return 1===e.position})).sort(this.sort)),e},defenders:function(){var e=[];return this.players.length&&(e=this.players.filter((function(e){return 2===e.position})).sort(this.sort)),e},midfielders:function(){var e=[];return this.players.length&&(e=this.players.filter((function(e){return 3===e.position})).sort(this.sort)),e},forwards:function(){var e=[];return this.players.length&&(e=this.players.filter((function(e){return 4===e.position})).sort(this.sort)),e},linedUpGoalie:function(){var e=this,t=[];this.goalies.length&&this.lineup.length&&this.lineup.forEach((function(a){e.goalies.forEach((function(e){a===e.id&&t.push(e)}))}));var a=t.length;if(a<this.positions.goalie)for(var s=0;s<this.positions.goalie-a;s++)t.push({position:1});return t},linedUpDefenders:function(){var e=this,t=[];this.defenders.length&&this.lineup.length&&this.lineup.forEach((function(a){e.defenders.forEach((function(s){a===s.id&&t.length<e.positions.defenders&&t.push(s)}))}));var a=t.length;if(a<this.positions.defenders)for(var s=0;s<this.positions.defenders-a;s++)t.push({position:2});return t},linedUpMidfielders:function(){var e=this,t=[];this.midfielders.length&&this.lineup.length&&this.lineup.forEach((function(a){e.midfielders.forEach((function(s){a===s.id&&t.length<e.positions.midfielders&&t.push(s)}))}));var a=t.length;if(a<this.positions.midfielders)for(var s=0;s<this.positions.midfielders-a;s++)t.push({position:3});return t},linedUpForwards:function(){var e=this,t=[];this.forwards.length&&this.lineup.length&&this.lineup.forEach((function(a){e.forwards.forEach((function(s){a===s.id&&t.length<e.positions.forwards&&t.push(s)}))}));var a=t.length;if(a<this.positions.forwards)for(var s=0;s<this.positions.forwards-a;s++)t.push({position:4});return t}}),mounted:function(){this.init()},methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["setLoading"])),{},{init:function(){var e=this;this.getSelf?(this.loadLineup(),st.loadMatches(null,(function(t){if(t.m&&t.m.length){var a=t.m[t.m.length-1];if(!0===L()(a.d).isSameOrAfter(new Date,"day"))e.matches=t.m;else{var s=t.cmd+1;s<=34&&st.loadMatches(s,(function(t){t.m&&t.m.length&&(e.matches=t.m)}))}}}))):window.setTimeout(this.init,1e3)},loadLineup:function(){var e=this;st.loadLineup((function(t){e.parseLineup(t)}))},parseLineup:function(e){if(void 0===e.type){this.formation="3-5-2";var t={position:"dummy"};this.lineupBlocks.goalie=[null],this.lineupBlocks.defenders=[null,null,null],this.lineupBlocks.midfielders=[null,null,null,null,null],this.lineupBlocks.forwards=[null,null],this.saveLineup({},t)}else if(e.lineup&&e.players){if(this.players=e.players,e.type){this.formation=e.type;var a=this.formation.split("-");this.positions.defenders=1*a[0],this.positions.midfielders=1*a[1],this.positions.forwards=1*a[2]}this.lineup=e.lineup,this.lineupBlocks.goalie=this.linedUpGoalie,this.lineupBlocks.defenders=this.linedUpDefenders,this.lineupBlocks.midfielders=this.linedUpMidfielders,this.lineupBlocks.forwards=this.linedUpForwards}},sort:function(e,t){return e.totalPoints<t.totalPoints?1:e.totalPoints>t.totalPoints?-1:0},openChangeDialog:function(e){this.lineUpDialog.show=!0,this.lineUpDialog.position=e.player.position,this.lineUpDialog.player=e.player},closeChangeDialog:function(){this.lineUpDialog.show=!1,this.lineUpDialog.position=null,this.lineUpDialog.player=null},changeFormation:function(){this.formation=this.selectedFormation,this.saveLineup({},{position:"dummy"})},saveLineup:function(e,t){var a=this;this.setLoading(!0),this.lineUpDialog.show=!1;var s=this.lineupBlocks.goalie.map((function(e){return e&&e.id?e.id:null})),r=this.lineupBlocks.defenders.map((function(e){return e&&e.id?e.id:null})),n=this.lineupBlocks.midfielders.map((function(e){return e&&e.id?e.id:null})),i=this.lineupBlocks.forwards.map((function(e){return e&&e.id?e.id:null})),o=1===t.position?this.changeBlockLineup(s,e,t):s,l=2===t.position?this.changeBlockLineup(r,e,t):r,u=3===t.position?this.changeBlockLineup(n,e,t):n,c=4===t.position?this.changeBlockLineup(i,e,t):i,f=[].concat((0,M.Z)(o),(0,M.Z)(l),(0,M.Z)(u),(0,M.Z)(c));console.log(o,l,u,c),st.saveLineup({type:this.formation,id:this.getLeague,actionId:"LU"+this.getLeague,players:f},(function(){a.loadLineup(),a.setLoading(!1)}),(function(){a.setLoading(!1)}))},changeBlockLineup:function(e,t,a){var s=a&&a.id?a.id:null,r=t&&t.id?t.id:null,n=[],i=!1;return e.length?e.forEach((function(e){e===r&&!1===i?(n.push(s),i=!0):n.push(e)})):n.push(s),n},positionName:function(e){var t=null;return 1===e?t="goalie":2===e?t="defender":3===e?t="midfielder":4===e&&(t="forward"),t},playerName:function(e){var t="";return e&&(t=e.knownName?e.knownName:e.firstName+" "+e.lastName),t},playerImg:function(e){var t=null;return e&&(t=e.profileBig),t},playerTeamImg:function(e){var t=null;return e&&(t=Ke(e.teamId)),t},otherPlayer:function(e){var t=this,a=[];return e&&(1===e.position?a=this.goalies.filter((function(t){return t.id!==e.id})):2===e.position?a=this.defenders.filter((function(t){return t.id!==e.id})):3===e.position?a=this.midfielders.filter((function(t){return t.id!==e.id})):4===e.position&&(a=this.forwards.filter((function(t){return t.id!==e.id}))),a=a.filter((function(e){return-1===t.lineup.indexOf(e.id)}))),a},playerVs:function(e){return Ye(this.matches,e)}})},_r=vr,br=(0,pt.Z)(_r,rr,nr,!1,null,null,null),kr=br.exports,Or=a(10626),wr=a(62165),Pr=a(78263),Cr=a(45085),Sr=a(31475),xr=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%"}},[e.getRanking?t(o.Z,[t($t.Z,{staticClass:"mb-6",scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v(" # ")]),t("th",{staticClass:"text-left d-none d-sm-table-cell"}),t("th",{staticClass:"text-left"},[e._v(" Name ")]),t("th",{staticClass:"text-left"},[e._v(" total points ")]),t("th",{staticClass:"text-left"},[e._v(" average points ")]),t("th",{staticClass:"text-left"},[e._v(" advantage to next rank ")]),t("th",{staticClass:"text-left"},[e._v(" points to 1st place ")])])]),t("tbody",e._l(e.ranks,(function(a,s){return t("tr",{key:a.userId,class:{"light-blue lighten-4":a.userId==e.getSelf}},[t("td",[e._v(e._s(s+1)+".")]),t("td",{staticClass:"d-none d-sm-table-cell"},[a.user.profile?t(xt.Z,{staticClass:"my-2"},[t("img",{attrs:{src:a.user.profile}})]):e._e()],1),t("td",[e._v(e._s(a.user.name))]),t("td",[e._v(e._s(a.points))]),t("td",[e._v(e._s(a.average))]),t("td",[e._v(e._s(a.advantage))]),t("td",[e._v(e._s(a.r1Advantage))])])})),0)]},proxy:!0}],null,!1,1422668692)}),t(Pr.Z,{attrs:{"align-with-title":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(Sr.Z),e._l(e.trends,(function(a){return t(Or.Z,{key:a},[e._v(" "+e._s(a)+" ")])}))],2),t(Cr.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.trends,(function(a){return t(wr.Z,{key:a},[t(nt.Z,{staticStyle:{height:"500px",position:"relative"},attrs:{flat:""}},[t("div",{staticStyle:{height:"500px",position:"relative"}},[t("ranking-line-chart",{attrs:{height:500,width:1e3,chartdata:e.getChartDetailsByKey(a),options:e.getChartOptionsByKey(a)}})],1)])],1)})),1)],1):t("spinner")],1)},Lr=[],Zr=a(56663),Dr={extends:Zr.x1,props:["chartdata","options"],mounted:function(){this.renderChart(this.chartdata,this.options)}},Mr=Dr,Tr=(0,pt.Z)(Mr,Xs,Qs,!1,null,null,null),Er=Tr.exports,Br={name:"ranking-view",components:{Spinner:hs,RankingLineChart:Er},data:function(){return{tab:0,trends:["placement","dayPoints","dayPlacement","points","teamValue"],trendOptions:{placement:{rankOrder:!0}},chartOptions:{default:{responsive:!1,scales:{yAxes:[{ticks:{precision:0}}]}},reverse:{responsive:!1,scales:{yAxes:[{ticks:{precision:0,reverse:!0}}]}}}}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getSelf","getRanking"])),{},{ranks:function(){var e=this,t=[];if(this.getRanking&&this.getRanking.users&&this.getRanking.users.length&&this.getRanking.matchDays&&this.getRanking.matchDays.length){var a=this.getRanking.matchDays.length-1,s=this.getRanking.matchDays[a].users;s.forEach((function(t,r){s[r].average=Math.round(t.points/a);var n=e.getRanking.users.filter((function(e){return e.id===t.userId}));if(1===n.length){var i=(0,C.Z)({},n[0]),o=0,l=0;s[r+1]&&(o=t.points-s[r+1].points),0!==r&&(l=s[0].points-t.points),t.advantage=o,t.r1Advantage=l,t.trends={},e.trends.forEach((function(e){t.trends[e]=[]})),e.getRanking.matchDays.forEach((function(a){if(a.users&&a.users.length){var s=a.users.filter((function(e){return e.userId===t.userId}));s.length&&e.trends.forEach((function(e){s[0][e]&&t.trends[e].push(s[0][e])}))}})),t.user=i}})),t=s}return t}}),mounted:function(){this.init()},methods:{init:function(){this.getSelf?st.loadRanking((function(){})):window.setTimeout(this.init,1e3)},sort:function(e,t){return e.points<t.points?1:e.points>t.points?-1:0},getChartOptionsByKey:function(e){return"dayPlacement"===e||"placement"===e?this.chartOptions.reverse:this.chartOptions.default},getChartDetailsByKey:function(e){var t=this,a=!1,s=[],r=[];return this.ranks.forEach((function(n){if(!1===a){for(var i=1;i<=n.trends.dayPoints.length;i++)s.push(i);a=!0}var o={label:n.user.name,borderColor:t.stringToColor(n.user.name),data:n.trends[e],borderWidth:3,lineTension:0,fill:!1};r.push(o)})),{labels:s,datasets:r}},stringToColor:function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);for(var s="#",r=0;r<3;r++){var n=t>>8*r&255;s+=("00"+n.toString(16)).substr(-2)}return s}}},jr=Br,Ar=(0,pt.Z)(jr,xr,Lr,!1,null,null,null),Ir=Ar.exports,Nr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container"},[t("h2",{staticClass:"text-h3 text-sm-h2 mb-5"},[e._v("Settings")]),t(nt.Z,{staticClass:"mb-5",attrs:{outlined:""}},[t(it.ZB,[t("h3",{staticClass:"text-h5 text-sm-h4 mb-5"},[e._v("General")]),t("p",[e._v("coming soon")])])],1),t(nt.Z,{staticClass:"mb-5",attrs:{outlined:""}},[t(it.ZB,[t("h3",{staticClass:"text-h5 text-sm-h4 mb-5"},[e._v("Transfer market")]),t("p",[e._v("coming soon")])])],1),t(nt.Z,{staticClass:"mb-5",attrs:{outlined:""}},[t(it.ZB,[t("h3",{staticClass:"text-h5 text-sm-h4 mb-5"},[e._v("Offers / Sell")]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Offer Threshold")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v("This setting affects:")]),t("ul",{staticClass:"mb-2 text-body-1"},[t("li",[e._v('Button: "Decline all bids that are too low"')]),t("li",[e._v('Buttons: "Decline and add again"')])]),t("p",{staticClass:"text-body-1"},[e._v(' This setting specifies the threshold at which an offer is considered to be "too low".'),t("br"),e._v("The specification is in percent. Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getDefaults.offerThreshold))])]),t("p",[e._v(" You can find the buttons at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1),t(It.Z,{attrs:{type:"info",outlined:""}},[t("p",[e._v("Good to know:")]),t("p",[e._v("Kickbase will give you an offer that will be between -1% and +1% of that player's market value each time.")]),t("p",{staticClass:"text-caption"},[e._v(" Example:"),t("br"),e._v(" Your player has a market value of "),t("em",[e._v("1.000.000")]),e._v(" and Kickbase offered you a bid, which will be between -100.000 € (lowest bid) and 100.000 € (highest bid). "),t("br"),e._v(' If you click the "Decline all bids that are too low" button, the offer will be rejected if the bid is not at least "'),t("strong",[e._v(e._s(e._f("numeral")(e.rejectAllExampleValue,"0,0 $")))]),e._v('" high (based on your current setting). If an offer was rejected, the player will be automatically put back on the transfer market. ')])])],1),t("div",{staticClass:"setting__input"},[t("p",{staticClass:"mb-0 text-caption"},[e._v("Percentage:")]),t("number-input",{attrs:{controls:"",step:.05,inline:"",max:.95,min:.05},model:{value:e.offerThresholdSetting,callback:function(t){e.offerThresholdSetting=t},expression:"offerThresholdSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerThresholdSetting}})],1)]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Order by")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v(" With this setting you can define how the order should be right after loading all offers. ")]),t("p",{staticClass:"text-body-1"},[e._v("Changing the order within the offer list is only temporary and will be reset as soon as you leave the page")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v('"order by  '),t("em",[e._v(e._s(e.offerOrderDefaultLabel))]),e._v('"')])]),t("p",[e._v(" You can find the order select at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1)]),t("div",{staticClass:"setting__input"},[t("sell-view-order",{attrs:{"is-temporary":!1,callback:e.offerOrderSaveBubble}}),t("saved-alert",{attrs:{value:e.showAlerts.offerOrder}})],1)]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Expand panels")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v(" These settings control which panels should be opened automatically as soon as there are players in the respective category. ")]),t("p",[e._v(" You can find the panels at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1),t("div",{staticClass:"setting__fieldset"},[t("p",{staticClass:"text-h6 text--primary"},[e._v("Player not on market: ")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getPanelWording(this.getDefaults.offerOpenPlayerNotOnMarketPanel)))])]),t(Vt.Z,{attrs:{inset:"",label:e.offerOpenPlayerNotOnMarketPanelSettingLabel},model:{value:e.offerOpenPlayerNotOnMarketPanelSetting,callback:function(t){e.offerOpenPlayerNotOnMarketPanelSetting=t},expression:"offerOpenPlayerNotOnMarketPanelSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerOpenPlayerNotOnMarketPanelSetting}})],1),t("div",{staticClass:"setting__fieldset"},[t("p",{staticClass:"text-h6 text--primary"},[e._v("Player without any offer: ")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getPanelWording(this.getDefaults.offerOpenPlayerWithoutAnyOfferPanel)))])]),t(Vt.Z,{attrs:{inset:"",label:e.offerOpenPlayerWithoutAnyOfferPanelSettingLabel},model:{value:e.offerOpenPlayerWithoutAnyOfferPanelSetting,callback:function(t){e.offerOpenPlayerWithoutAnyOfferPanelSetting=t},expression:"offerOpenPlayerWithoutAnyOfferPanelSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerOpenPlayerWithoutAnyOfferPanelSetting}})],1)])]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Show only too low offers")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v(' If this checkbox is set, only offers that are too low will be shown directly after loading the page (see option "Offer Threshold" above) ')]),t("p",{staticClass:"text-body-1"},[e._v("Changing the checkbox within the offer list is only temporary and will be reset as soon as you leave the page.")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getDefaults.offerShowTooLowOffersOnly))])]),t("p",[e._v(" You can find the order select at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1)]),t("div",{staticClass:"setting__input"},[t(vs.Z,{attrs:{label:"show only too low offers"},model:{value:e.offerShowTooLowOffersOnlySetting,callback:function(t){e.offerShowTooLowOffersOnlySetting=t},expression:"offerShowTooLowOffersOnlySetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerShowTooLowOffersOnlySetting}})],1)])])],1)],1)},Vr=[],Fr="Open panel automatically",Rr="Keep panel closed",Gr={name:"SettingsView",components:{SavedAlert:Wa,SellViewOrder:Ns},data:function(){return{initialized:!1,offerThresholdSetting:null,offerOpenPlayerNotOnMarketPanelSetting:null,offerOpenPlayerWithoutAnyOfferPanelSetting:null,offerShowTooLowOffersOnlySetting:null,debouncedCallback:null,showAlerts:{offerThresholdSetting:!1,offerOrder:!1,offerOpenPlayerNotOnMarketPanelSetting:!1,offerOpenPlayerWithoutAnyOfferPanelSetting:!1,offerShowTooLowOffersOnlySetting:!1}}},created:function(){this.debouncedCallback=Yt()((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"function"===typeof t[0]&&t[0]()}),1e3)},mounted:function(){this.offerThresholdSetting=this.getOfferThreshold,this.offerOpenPlayerNotOnMarketPanelSetting=this.getOfferOpenPlayerNotOnMarketPanel,this.offerOpenPlayerWithoutAnyOfferPanelSetting=this.getOfferOpenPlayerWithoutAnyOfferPanel,this.offerShowTooLowOffersOnlySetting=this.getOfferShowTooLowOffersOnly},watch:{offerThresholdSetting:function(e){var t=this;this.debouncedCallback((function(){e===t.offerThresholdSetting&&t.initialized&&(t.setOfferThreshold(e),t.flashSaveMessage("offerThresholdSetting")),t.initialized=!0}))},offerShowTooLowOffersOnlySetting:function(e){var t=this;this.debouncedCallback((function(){e===t.offerShowTooLowOffersOnlySetting&&t.initialized&&(t.setOfferShowTooLowOffersOnly(e),t.flashSaveMessage("offerShowTooLowOffersOnlySetting")),t.initialized=!0}))},offerOpenPlayerNotOnMarketPanelSetting:function(e){var t=this;this.debouncedCallback((function(){e===t.offerOpenPlayerNotOnMarketPanelSetting&&t.initialized&&(t.setOfferOpenPlayerNotOnMarketPanel(e),t.flashSaveMessage("offerOpenPlayerNotOnMarketPanelSetting")),t.initialized=!0}))},offerOpenPlayerWithoutAnyOfferPanelSetting:function(e){var t=this;this.debouncedCallback((function(){e===t.offerOpenPlayerWithoutAnyOfferPanelSetting&&t.initialized&&(t.setOfferOpenPlayerWithoutAnyOfferPanel(e),t.flashSaveMessage("offerOpenPlayerWithoutAnyOfferPanelSetting")),t.initialized=!0}))}},computed:(0,C.Z)((0,C.Z)({},(0,S.Se)(["getDefaults","getOfferThreshold","getOfferOpenPlayerNotOnMarketPanel","getOfferOpenPlayerWithoutAnyOfferPanel","getOfferShowTooLowOffersOnly"])),{},{rejectAllExampleValue:function(){return 1e5*this.getOfferThreshold},offerOrderDefaultLabel:function(){return this.getDefaults.offerOrders[this.getDefaults.offerOrder]},offerOpenPlayerWithoutAnyOfferPanelSettingLabel:function(){return this.offerOpenPlayerWithoutAnyOfferPanelSetting?Fr:Rr},offerOpenPlayerNotOnMarketPanelSettingLabel:function(){return this.offerOpenPlayerNotOnMarketPanelSetting?Fr:Rr}}),methods:(0,C.Z)((0,C.Z)({},(0,S.OI)(["setOfferThreshold","setOfferOpenPlayerNotOnMarketPanel","setOfferOpenPlayerWithoutAnyOfferPanel","setOfferShowTooLowOffersOnly"])),{},{offerOrderSaveBubble:function(){this.flashSaveMessage("offerOrder")},flashSaveMessage:function(e){var t=this;this.initialized&&Object.hasOwn(this.showAlerts,e)&&(this.showAlerts[e]=!0,window.setTimeout((function(){t.showAlerts[e]=!1}),2e3))},getPanelWording:function(e){return e?Fr:Rr}})},Ur=Gr,Wr=(0,pt.Z)(Ur,Nr,Vr,!1,null,null,null),zr=Wr.exports;s.ZP.use(St.Z);var $r=[{path:"/",component:At},{path:"/home",component:At},{path:"/feed",component:Hs},{path:"/transfermarket",component:ys},{path:"/sell",component:Gs},{path:"/live",component:sr},{path:"/lineup",component:kr},{path:"/table",component:Ir},{path:"/settings",component:zr}],qr=new St.Z({routes:$r,scrollBehavior:function(){return{x:0,y:0}}}),Hr=qr;a(43253),s.ZP.config.productionTip=!1,D().register("locale","deff",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€"}}),s.ZP.use(wt.Z,{locale:"deff"}),s.ZP.use(Ct());var Kr=1*localStorage.getItem(he.LOCALSTORAGE.OFFER_THRESHOLD);Kr||(Kr=He.getters.getDefaults.offerThreshold),He.commit("setOfferThreshold",Kr);var Yr=localStorage.getItem(he.LOCALSTORAGE.OFFER_ORDER);Yr||(Yr=He.getters.getDefaults.offerOrder),He.commit("setOfferOrder",{order:Yr,isTemporary:!1});var Jr=localStorage.getItem(he.LOCALSTORAGE.OFFER_PANEL_PLAYER_NOT_ON_MARKET);Jr="undefined"===typeof Jr||null===Jr?He.getters.getDefaults.offerOpenPlayerNotOnMarketPanel:"true"===Jr,He.commit("setOfferOpenPlayerNotOnMarketPanel",Jr);var Xr=localStorage.getItem(he.LOCALSTORAGE.OFFER_PANEL_PLAYER_WITHOUT_ANY_OFFER);Xr="undefined"===typeof Xr||null===Xr?He.getters.getDefaults.offerOpenPlayerWithoutAnyOfferPanel:"true"===Xr,He.commit("setOfferOpenPlayerWithoutAnyOfferPanel",Xr);var Qr=localStorage.getItem(he.LOCALSTORAGE.OFFER_SHOW_TOO_LOW_OFFERS_ONLY);Qr="undefined"===typeof Qr||null===Qr?He.getters.getDefaults.offerShowTooLowOffersOnly:"true"===Qr,He.commit("setOfferShowTooLowOffersOnly",Qr),new s.ZP({vuetify:Ot,router:Hr,store:He,render:function(e){return e(bt)}}).$mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,n){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],n=e[c][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(o=!1,n<i&&(i=n));if(o){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,r,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,n,i=s[0],o=s[1],l=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var c=l(a)}for(t&&t(s);u<i.length;u++)n=i[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self["webpackChunkkickbase_plus"]=self["webpackChunkkickbase_plus"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(74092)}));s=a.O(s)})();
//# sourceMappingURL=app-legacy.5abf6cd9.js.map